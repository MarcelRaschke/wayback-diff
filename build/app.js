function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,d(r.key),r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t,e,n){return(e=d(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(){return a=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var a=o(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}(this,n)}}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,s=[],u=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){l=!0,a=t}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw a}}return s}}(t,e)||p(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||p(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var m="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function v(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y={},g={get exports(){return y},set exports(t){y=t}},b={},_=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var E,S=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,a=function(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(t),i=1;i<arguments.length;i++){for(var o in n=Object(arguments[i]))w.call(n,o)&&(a[o]=n[o]);if(_){r=_(n);for(var s=0;s<r.length;s++)x.call(n,r[s])&&(a[r[s]]=n[r[s]])}}return a};
/** @license React v17.0.2
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */E=b,function(){var t=S,e=60103,n=60106;E.Fragment=60107,E.StrictMode=60108,E.Profiler=60114;var r=60109,a=60110,i=60112;E.Suspense=60113;var o=60120,s=60115,u=60116,l=60121,c=60122,f=60117,p=60129,h=60131;if("function"==typeof Symbol&&Symbol.for){var d=Symbol.for;e=d("react.element"),n=d("react.portal"),E.Fragment=d("react.fragment"),E.StrictMode=d("react.strict_mode"),E.Profiler=d("react.profiler"),r=d("react.provider"),a=d("react.context"),i=d("react.forward_ref"),E.Suspense=d("react.suspense"),o=d("react.suspense_list"),s=d("react.memo"),u=d("react.lazy"),l=d("react.block"),c=d("react.server.block"),f=d("react.fundamental"),d("react.scope"),d("react.opaque.id"),p=d("react.debug_trace_mode"),d("react.offscreen"),h=d("react.legacy_hidden")}var m="function"==typeof Symbol&&Symbol.iterator,v="@@iterator";function y(t){if(null===t||"object"!=typeof t)return null;var e=m&&t[m]||t[v];return"function"==typeof e?e:null}var g={current:null},b={current:null},_={},w=null;function x(t){w=t}_.setExtraStackFrame=function(t){w=t},_.getCurrentStack=null,_.getStackAddendum=function(){var t="";w&&(t+=w);var e=_.getCurrentStack;return e&&(t+=e()||""),t};var k={ReactCurrentDispatcher:g,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:t};function C(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];T("warn",t,n)}function j(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];T("error",t,n)}function T(t,e,n){var r=k.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(e+="%s",n=n.concat([r]));var a=n.map((function(t){return""+t}));a.unshift("Warning: "+e),Function.prototype.apply.call(console[t],console,a)}k.ReactDebugCurrentFrame=_;var O={};function A(t,e){var n=t.constructor,r=n&&(n.displayName||n.name)||"ReactClass",a=r+"."+e;O[a]||(j("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",e,r),O[a]=!0)}var R={isMounted:function(t){return!1},enqueueForceUpdate:function(t,e,n){A(t,"forceUpdate")},enqueueReplaceState:function(t,e,n,r){A(t,"replaceState")},enqueueSetState:function(t,e,n,r){A(t,"setState")}},N={};function D(t,e,n){this.props=t,this.context=e,this.refs=N,this.updater=n||R}Object.freeze(N),D.prototype.isReactComponent={},D.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},D.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};var P={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},M=function(t,e){Object.defineProperty(D.prototype,t,{get:function(){C("%s(...) is deprecated in plain JavaScript React classes. %s",e[0],e[1])}})};for(var $ in P)P.hasOwnProperty($)&&M($,P[$]);function I(){}function L(t,e,n){this.props=t,this.context=e,this.refs=N,this.updater=n||R}I.prototype=D.prototype;var H=L.prototype=new I;function B(t){return t.displayName||"Context"}function U(t){if(null==t)return null;if("number"==typeof t.tag&&j("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case E.Fragment:return"Fragment";case n:return"Portal";case E.Profiler:return"Profiler";case E.StrictMode:return"StrictMode";case E.Suspense:return"Suspense";case o:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case a:return B(t)+".Consumer";case r:return B(t._context)+".Provider";case i:return p=t,h=t.render,d="ForwardRef",m=h.displayName||h.name||"",p.displayName||(""!==m?d+"("+m+")":d);case s:return U(t.type);case l:return U(t._render);case u:var e=t,c=e._payload,f=e._init;try{return U(f(c))}catch(t){return null}}var p,h,d,m;return null}H.constructor=L,t(H,D.prototype),H.isPureReactComponent=!0;var F,z,q,V=Object.prototype.hasOwnProperty,Y={key:!0,ref:!0,__self:!0,__source:!0};function W(t){if(V.call(t,"ref")){var e=Object.getOwnPropertyDescriptor(t,"ref").get;if(e&&e.isReactWarning)return!1}return void 0!==t.ref}function X(t){if(V.call(t,"key")){var e=Object.getOwnPropertyDescriptor(t,"key").get;if(e&&e.isReactWarning)return!1}return void 0!==t.key}q={};var G=function(t,n,r,a,i,o,s){var u={$$typeof:e,type:t,key:n,ref:r,props:s,_owner:o,_store:{}};return Object.defineProperty(u._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(u,"_self",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(u,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(u.props),Object.freeze(u)),u};function J(t,e,n){var r,a={},i=null,o=null,s=null,u=null;if(null!=e)for(r in W(e)&&(o=e.ref,function(t){if("string"==typeof t.ref&&b.current&&t.__self&&b.current.stateNode!==t.__self){var e=U(b.current.type);q[e]||(j('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',e,t.ref),q[e]=!0)}}(e)),X(e)&&(i=""+e.key),s=void 0===e.__self?null:e.__self,u=void 0===e.__source?null:e.__source,e)V.call(e,r)&&!Y.hasOwnProperty(r)&&(a[r]=e[r]);var l=arguments.length-2;if(1===l)a.children=n;else if(l>1){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];Object.freeze&&Object.freeze(c),a.children=c}if(t&&t.defaultProps){var p=t.defaultProps;for(r in p)void 0===a[r]&&(a[r]=p[r])}if(i||o){var h="function"==typeof t?t.displayName||t.name||"Unknown":t;i&&function(t,e){var n=function(){F||(F=!0,j("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",e))};n.isReactWarning=!0,Object.defineProperty(t,"key",{get:n,configurable:!0})}(a,h),o&&function(t,e){var n=function(){z||(z=!0,j("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",e))};n.isReactWarning=!0,Object.defineProperty(t,"ref",{get:n,configurable:!0})}(a,h)}return G(t,i,o,s,u,b.current,a)}function K(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a,i,o=t({},e.props),s=e.key,u=e.ref,l=e._self,c=e._source,f=e._owner;if(null!=n)for(a in W(n)&&(u=n.ref,f=b.current),X(n)&&(s=""+n.key),e.type&&e.type.defaultProps&&(i=e.type.defaultProps),n)V.call(n,a)&&!Y.hasOwnProperty(a)&&(void 0===n[a]&&void 0!==i?o[a]=i[a]:o[a]=n[a]);var p=arguments.length-2;if(1===p)o.children=r;else if(p>1){for(var h=Array(p),d=0;d<p;d++)h[d]=arguments[d+2];o.children=h}return G(e.type,s,u,l,c,f,o)}function Z(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var Q=".",tt=":",et=!1,nt=/\/+/g;function rt(t){return t.replace(nt,"$&/")}function at(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function it(t,r,a,i,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u,l,c,f=!1;if(null===t)f=!0;else switch(s){case"string":case"number":f=!0;break;case"object":switch(t.$$typeof){case e:case n:f=!0}}if(f){var p=t,h=o(p),d=""===i?Q+at(p,0):i;if(Array.isArray(h)){var m="";null!=d&&(m=rt(d)+"/"),it(h,r,m,"",(function(t){return t}))}else null!=h&&(Z(h)&&(u=h,l=a+(!h.key||p&&p.key===h.key?"":rt(""+h.key)+"/")+d,h=G(u.type,l,u.ref,u._self,u._source,u._owner,u.props)),r.push(h));return 1}var v=0,g=""===i?Q:i+tt;if(Array.isArray(t))for(var b=0;b<t.length;b++)v+=it(c=t[b],r,a,g+at(c,b),o);else{var _=y(t);if("function"==typeof _){var w=t;_===w.entries&&(et||C("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),et=!0);for(var x,E=_.call(w),S=0;!(x=E.next()).done;)v+=it(c=x.value,r,a,g+at(c,S++),o)}else if("object"===s){var k=""+t;throw Error("Objects are not valid as a React child (found: "+("[object Object]"===k?"object with keys {"+Object.keys(t).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}}return v}function ot(t,e,n){if(null==t)return t;var r=[],a=0;return it(t,r,"","",(function(t){return e.call(n,t,a++)})),r}var st=-1,ut=0,lt=1,ct=2;function ft(t){if(t._status===st){var e=(0,t._result)(),n=t;n._status=ut,n._result=e,e.then((function(e){if(t._status===ut){var n=e.default;void 0===n&&j("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",e);var r=t;r._status=lt,r._result=n}}),(function(e){if(t._status===ut){var n=t;n._status=ct,n._result=e}}))}if(t._status===lt)return t._result;throw t._result}var pt=!1;function ht(t){return"string"==typeof t||"function"==typeof t||!(t!==E.Fragment&&t!==E.Profiler&&t!==p&&t!==E.StrictMode&&t!==E.Suspense&&t!==o&&t!==h&&!pt)||"object"==typeof t&&null!==t&&(t.$$typeof===u||t.$$typeof===s||t.$$typeof===r||t.$$typeof===a||t.$$typeof===i||t.$$typeof===f||t.$$typeof===l||t[0]===c)}function dt(){var t=g.current;if(null===t)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");return t}var mt,vt,yt,gt,bt,_t,wt,xt=0;function Et(){}Et.__reactDisabledLog=!0;var St,kt=k.ReactCurrentDispatcher;function Ct(t,e,n){if(void 0===St)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);St=r&&r[1]||""}return"\n"+St+t}var jt,Tt=!1,Ot="function"==typeof WeakMap?WeakMap:Map;function At(e,n){if(!e||Tt)return"";var r,a=jt.get(e);if(void 0!==a)return a;Tt=!0;var i,o=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=kt.current,kt.current=null,function(){if(0===xt){mt=console.log,vt=console.info,yt=console.warn,gt=console.error,bt=console.group,_t=console.groupCollapsed,wt=console.groupEnd;var t={configurable:!0,enumerable:!0,value:Et,writable:!0};Object.defineProperties(console,{info:t,log:t,warn:t,error:t,group:t,groupCollapsed:t,groupEnd:t})}xt++}();try{if(n){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(t){r=t}Reflect.construct(e,[],s)}else{try{s.call()}catch(t){r=t}e.call(s.prototype)}}else{try{throw Error()}catch(t){r=t}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var u=t.stack.split("\n"),l=r.stack.split("\n"),c=u.length-1,f=l.length-1;c>=1&&f>=0&&u[c]!==l[f];)f--;for(;c>=1&&f>=0;c--,f--)if(u[c]!==l[f]){if(1!==c||1!==f)do{if(c--,--f<0||u[c]!==l[f]){var p="\n"+u[c].replace(" at new "," at ");return"function"==typeof e&&jt.set(e,p),p}}while(c>=1&&f>=0);break}}}finally{Tt=!1,kt.current=i,function(){if(0==--xt){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:t({},e,{value:mt}),info:t({},e,{value:vt}),warn:t({},e,{value:yt}),error:t({},e,{value:gt}),group:t({},e,{value:bt}),groupCollapsed:t({},e,{value:_t}),groupEnd:t({},e,{value:wt})})}xt<0&&j("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=o}var h=e?e.displayName||e.name:"",d=h?Ct(h):"";return"function"==typeof e&&jt.set(e,d),d}function Rt(t,e,n){return At(t,!1)}function Nt(t,e,n){if(null==t)return"";if("function"==typeof t)return At(t,function(t){var e=t.prototype;return!(!e||!e.isReactComponent)}(t));if("string"==typeof t)return Ct(t);switch(t){case E.Suspense:return Ct("Suspense");case o:return Ct("SuspenseList")}if("object"==typeof t)switch(t.$$typeof){case i:return Rt(t.render);case s:return Nt(t.type,e,n);case l:return Rt(t._render);case u:var r=t,a=r._payload,c=r._init;try{return Nt(c(a),e,n)}catch(t){}}return""}jt=new Ot;var Dt,Pt={},Mt=k.ReactDebugCurrentFrame;function $t(t){if(t){var e=t._owner,n=Nt(t.type,t._source,e?e.type:null);Mt.setExtraStackFrame(n)}else Mt.setExtraStackFrame(null)}function It(t){if(t){var e=t._owner;x(Nt(t.type,t._source,e?e.type:null))}else x(null)}function Lt(){if(b.current){var t=U(b.current.type);if(t)return"\n\nCheck the render method of `"+t+"`."}return""}Dt=!1;var Ht={};function Bt(t,e){if(t._store&&!t._store.validated&&null==t.key){t._store.validated=!0;var n=function(t){var e=Lt();if(!e){var n="string"==typeof t?t:t.displayName||t.name;n&&(e="\n\nCheck the top-level render call using <"+n+">.")}return e}(e);if(!Ht[n]){Ht[n]=!0;var r="";t&&t._owner&&t._owner!==b.current&&(r=" It was passed a child from "+U(t._owner.type)+"."),It(t),j('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),It(null)}}}function Ut(t,e){if("object"==typeof t)if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];Z(r)&&Bt(r,e)}else if(Z(t))t._store&&(t._store.validated=!0);else if(t){var a=y(t);if("function"==typeof a&&a!==t.entries)for(var i,o=a.call(t);!(i=o.next()).done;)Z(i.value)&&Bt(i.value,e)}}function Ft(t){var e,n=t.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)e=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==i&&n.$$typeof!==s)return;e=n.propTypes}if(e){var r=U(n);!function(t,e,n,r,a){var i=Function.call.bind(Object.prototype.hasOwnProperty);for(var o in t)if(i(t,o)){var s=void 0;try{if("function"!=typeof t[o]){var u=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw u.name="Invariant Violation",u}s=t[o](e,o,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(t){s=t}!s||s instanceof Error||($t(a),j("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,o,typeof s),$t(null)),s instanceof Error&&!(s.message in Pt)&&(Pt[s.message]=!0,$t(a),j("Failed %s type: %s",n,s.message),$t(null))}}(e,t.props,"prop",r,t)}else void 0===n.PropTypes||Dt||(Dt=!0,j("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",U(n)||"Unknown"));"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||j("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function zt(t,n,r){var a,i,o=ht(t);if(!o){var s="";(void 0===t||"object"==typeof t&&null!==t&&0===Object.keys(t).length)&&(s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var u,l=null!=(a=n)&&void 0!==(i=a.__source)?"\n\nCheck your code at "+i.fileName.replace(/^.*[\\\/]/,"")+":"+i.lineNumber+".":"";s+=l||Lt(),null===t?u="null":Array.isArray(t)?u="array":void 0!==t&&t.$$typeof===e?(u="<"+(U(t.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):u=typeof t,j("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",u,s)}var c=J.apply(this,arguments);if(null==c)return c;if(o)for(var f=2;f<arguments.length;f++)Ut(arguments[f],t);return t===E.Fragment?function(t){for(var e=Object.keys(t.props),n=0;n<e.length;n++){var r=e[n];if("children"!==r&&"key"!==r){It(t),j("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),It(null);break}}null!==t.ref&&(It(t),j("Invalid attribute `ref` supplied to `React.Fragment`."),It(null))}(c):Ft(c),c}var qt=!1;try{var Vt=Object.freeze({});new Map([[Vt,null]]),new Set([Vt])}catch(t){}var Yt=zt,Wt=function(t,e,n){for(var r=K.apply(this,arguments),a=2;a<arguments.length;a++)Ut(arguments[a],r.type);return Ft(r),r},Xt=function(t){var e=zt.bind(null,t);return e.type=t,qt||(qt=!0,C("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(e,"type",{enumerable:!1,get:function(){return C("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:t}),t}}),e},Gt={map:ot,forEach:function(t,e,n){ot(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return ot(t,(function(){e++})),e},toArray:function(t){return ot(t,(function(t){return t}))||[]},only:function(t){if(!Z(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};E.Children=Gt,E.Component=D,E.PureComponent=L,E.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k,E.cloneElement=Wt,E.createContext=function(t,e){void 0===e?e=null:null!==e&&"function"!=typeof e&&j("createContext: Expected the optional second argument to be a function. Instead received: %s",e);var n={$$typeof:a,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null};n.Provider={$$typeof:r,_context:n};var i=!1,o=!1,s=!1,u={$$typeof:a,_context:n,_calculateChangedBits:n._calculateChangedBits};return Object.defineProperties(u,{Provider:{get:function(){return o||(o=!0,j("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),n.Provider},set:function(t){n.Provider=t}},_currentValue:{get:function(){return n._currentValue},set:function(t){n._currentValue=t}},_currentValue2:{get:function(){return n._currentValue2},set:function(t){n._currentValue2=t}},_threadCount:{get:function(){return n._threadCount},set:function(t){n._threadCount=t}},Consumer:{get:function(){return i||(i=!0,j("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),n.Consumer}},displayName:{get:function(){return n.displayName},set:function(t){s||(C("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",t),s=!0)}}}),n.Consumer=u,n._currentRenderer=null,n._currentRenderer2=null,n},E.createElement=Yt,E.createFactory=Xt,E.createRef=function(){var t={current:null};return Object.seal(t),t},E.forwardRef=function(t){null!=t&&t.$$typeof===s?j("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!=typeof t?j("forwardRef requires a render function but was given %s.",null===t?"null":typeof t):0!==t.length&&2!==t.length&&j("forwardRef render functions accept exactly two parameters: props and ref. %s",1===t.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=t&&(null==t.defaultProps&&null==t.propTypes||j("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?"));var e,n={$$typeof:i,render:t};return Object.defineProperty(n,"displayName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(n){e=n,null==t.displayName&&(t.displayName=n)}}),n},E.isValidElement=Z,E.lazy=function(t){var e,n,r={$$typeof:u,_payload:{_status:-1,_result:t},_init:ft};return Object.defineProperties(r,{defaultProps:{configurable:!0,get:function(){return e},set:function(t){j("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),e=t,Object.defineProperty(r,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return n},set:function(t){j("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),n=t,Object.defineProperty(r,"propTypes",{enumerable:!0})}}}),r},E.memo=function(t,e){ht(t)||j("memo: The first argument must be a component. Instead received: %s",null===t?"null":typeof t);var n,r={$$typeof:s,type:t,compare:void 0===e?null:e};return Object.defineProperty(r,"displayName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(e){n=e,null==t.displayName&&(t.displayName=e)}}),r},E.useCallback=function(t,e){return dt().useCallback(t,e)},E.useContext=function(t,e){var n=dt();if(void 0!==e&&j("useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s",e,"number"==typeof e&&Array.isArray(arguments[2])?"\n\nDid you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://reactjs.org/link/rules-of-hooks":""),void 0!==t._context){var r=t._context;r.Consumer===t?j("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):r.Provider===t&&j("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return n.useContext(t,e)},E.useDebugValue=function(t,e){return dt().useDebugValue(t,e)},E.useEffect=function(t,e){return dt().useEffect(t,e)},E.useImperativeHandle=function(t,e,n){return dt().useImperativeHandle(t,e,n)},E.useLayoutEffect=function(t,e){return dt().useLayoutEffect(t,e)},E.useMemo=function(t,e){return dt().useMemo(t,e)},E.useReducer=function(t,e,n){return dt().useReducer(t,e,n)},E.useRef=function(t){return dt().useRef(t)},E.useState=function(t){return dt().useState(t)},E.version="17.0.2"}(),g.exports=b;var k=v(y),C={},j={get exports(){return C},set exports(t){C=t}},T={},O={get exports(){return T},set exports(t){T=t}},A={};!function(){var t="function"==typeof Symbol&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,l=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,d=t?Symbol.for("react.lazy"):60116,m=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,y=t?Symbol.for("react.responder"):60118,g=t?Symbol.for("react.scope"):60119;function b(t){if("object"==typeof t&&null!==t){var p=t.$$typeof;switch(p){case e:var m=t.type;switch(m){case u:case l:case r:case i:case a:case f:return m;default:var v=m&&m.$$typeof;switch(v){case s:case c:case d:case h:case o:return v;default:return p}}case n:return p}}}var _=u,w=l,x=s,E=o,S=e,k=c,C=r,j=d,T=h,O=n,R=i,N=a,D=f,P=!1;function M(t){return b(t)===l}A.AsyncMode=_,A.ConcurrentMode=w,A.ContextConsumer=x,A.ContextProvider=E,A.Element=S,A.ForwardRef=k,A.Fragment=C,A.Lazy=j,A.Memo=T,A.Portal=O,A.Profiler=R,A.StrictMode=N,A.Suspense=D,A.isAsyncMode=function(t){return P||(P=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(t)||b(t)===u},A.isConcurrentMode=M,A.isContextConsumer=function(t){return b(t)===s},A.isContextProvider=function(t){return b(t)===o},A.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},A.isForwardRef=function(t){return b(t)===c},A.isFragment=function(t){return b(t)===r},A.isLazy=function(t){return b(t)===d},A.isMemo=function(t){return b(t)===h},A.isPortal=function(t){return b(t)===n},A.isProfiler=function(t){return b(t)===i},A.isStrictMode=function(t){return b(t)===a},A.isSuspense=function(t){return b(t)===f},A.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===l||t===i||t===a||t===f||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===d||t.$$typeof===h||t.$$typeof===o||t.$$typeof===s||t.$$typeof===c||t.$$typeof===v||t.$$typeof===y||t.$$typeof===g||t.$$typeof===m)},A.typeOf=b}(),O.exports=A;var R="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",N=Function.call.bind(Object.prototype.hasOwnProperty),D=function(){},P=R,M={},$=N;function I(t,e,n,r,a){for(var i in t)if($(t,i)){var o;try{if("function"!=typeof t[i]){var s=Error((r||"React class")+": "+n+" type `"+i+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[i]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw s.name="Invariant Violation",s}o=t[i](e,i,r,n,null,P)}catch(t){o=t}if(!o||o instanceof Error||D((r||"React class")+": type specification of "+n+" `"+i+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof o+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),o instanceof Error&&!(o.message in M)){M[o.message]=!0;var u=a?a():"";D("Failed "+n+" type: "+o.message+(null!=u?u:""))}}}D=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}},I.resetWarningCache=function(){M={}};var L,H=T,B=S,U=R,F=N,z=I;function q(){return null}L=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}};var V=T;function Y(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}}j.exports=function(t,e){var n="function"==typeof Symbol&&Symbol.iterator,r="@@iterator",a="<<anonymous>>",i={array:l("array"),bigint:l("bigint"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:u(q),arrayOf:function(t){return u((function(e,n,r,a,i){if("function"!=typeof t)return new s("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var o=e[n];if(!Array.isArray(o))return new s("Invalid "+a+" `"+i+"` of type `"+p(o)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<o.length;u++){var l=t(o,u,r,a,i+"["+u+"]",U);if(l instanceof Error)return l}return null}))},element:u((function(e,n,r,a,i){var o=e[n];return t(o)?null:new s("Invalid "+a+" `"+i+"` of type `"+p(o)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:u((function(t,e,n,r,a){var i=t[e];return H.isValidElementType(i)?null:new s("Invalid "+r+" `"+a+"` of type `"+p(i)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(t){return u((function(e,n,r,i,o){if(!(e[n]instanceof t)){var u=t.name||a;return new s("Invalid "+i+" `"+o+"` of type `"+((l=e[n]).constructor&&l.constructor.name?l.constructor.name:a)+"` supplied to `"+r+"`, expected instance of `"+u+"`.")}var l;return null}))},node:u((function(t,e,n,r,a){return f(t[e])?null:new s("Invalid "+r+" `"+a+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return u((function(e,n,r,a,i){if("function"!=typeof t)return new s("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var o=e[n],u=p(o);if("object"!==u)return new s("Invalid "+a+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in o)if(F(o,l)){var c=t(o,l,r,a,i+"."+l,U);if(c instanceof Error)return c}return null}))},oneOf:function(t){return Array.isArray(t)?u((function(e,n,r,a,i){for(var u=e[n],l=0;l<t.length;l++)if(o(u,t[l]))return null;var c=JSON.stringify(t,(function(t,e){return"symbol"===h(e)?String(e):e}));return new s("Invalid "+a+" `"+i+"` of value `"+String(u)+"` supplied to `"+r+"`, expected one of "+c+".")})):(L(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),q)},oneOfType:function(t){if(!Array.isArray(t))return L("Invalid argument supplied to oneOfType, expected an instance of array."),q;for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)return L("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+d(n)+" at index "+e+"."),q}return u((function(e,n,r,a,i){for(var o=[],u=0;u<t.length;u++){var l=(0,t[u])(e,n,r,a,i,U);if(null==l)return null;l.data&&F(l.data,"expectedType")&&o.push(l.data.expectedType)}return new s("Invalid "+a+" `"+i+"` supplied to `"+r+"`"+(o.length>0?", expected one of type ["+o.join(", ")+"]":"")+".")}))},shape:function(t){return u((function(e,n,r,a,i){var o=e[n],u=p(o);if("object"!==u)return new s("Invalid "+a+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in t){var f=t[l];if("function"!=typeof f)return c(r,a,i,l,h(f));var d=f(o,l,r,a,i+"."+l,U);if(d)return d}return null}))},exact:function(t){return u((function(e,n,r,a,i){var o=e[n],u=p(o);if("object"!==u)return new s("Invalid "+a+" `"+i+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var l=B({},e[n],t);for(var f in l){var d=t[f];if(F(t,f)&&"function"!=typeof d)return c(r,a,i,f,h(d));if(!d)return new s("Invalid "+a+" `"+i+"` key `"+f+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var m=d(o,f,r,a,i+"."+f,U);if(m)return m}return null}))}};function o(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function s(t,e){this.message=t,this.data=e&&"object"==typeof e?e:{},this.stack=""}function u(t){var n={},r=0;function i(i,o,u,l,c,f,p){if(l=l||a,f=f||u,p!==U){if(e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}if("undefined"!=typeof console){var d=l+":"+u;!n[d]&&r<3&&(L("You are manually calling a React.PropTypes validation function for the `"+f+"` prop on `"+l+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[d]=!0,r++)}}return null==o[u]?i?null===o[u]?new s("The "+c+" `"+f+"` is marked as required in `"+l+"`, but its value is `null`."):new s("The "+c+" `"+f+"` is marked as required in `"+l+"`, but its value is `undefined`."):null:t(o,u,l,c,f)}var o=i.bind(null,!1);return o.isRequired=i.bind(null,!0),o}function l(t){return u((function(e,n,r,a,i,o){var u=e[n];return p(u)!==t?new s("Invalid "+a+" `"+i+"` of type `"+h(u)+"` supplied to `"+r+"`, expected `"+t+"`.",{expectedType:t}):null}))}function c(t,e,n,r,a){return new s((t||"React class")+": "+e+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+a+"`.")}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||t(e))return!0;var a=function(t){var e=t&&(n&&t[n]||t[r]);if("function"==typeof e)return e}(e);if(!a)return!1;var i,o=a.call(e);if(a!==e.entries){for(;!(i=o.next()).done;)if(!f(i.value))return!1}else for(;!(i=o.next()).done;){var s=i.value;if(s&&!f(s[1]))return!1}return!0;default:return!1}}function p(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function h(t){if(null==t)return""+t;var e=p(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function d(t){var e=h(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return s.prototype=Error.prototype,i.checkPropTypes=z,i.resetWarningCache=z.resetWarningCache,i.PropTypes=i,i}(V.isElement,!0);Y(".side-by-side-render,\n.inline-render {\n    display: flex;\n    flex: 1 0 auto;\n}\n\n.side-by-side-render > iframe,\n.side-by-side-render > div,\n.inline-render > iframe {\n    border: 1px solid #ccc;\n    border-radius: 2px;\n    width: 100%;\n}\n\n.side-by-side-render > iframe:first-of-type {\n    margin-right: 0.5em;\n}\n\n.diff-view__alert.alert.alert-warning{\n    text-align: center;\n}\n\n.loading {\n    align-items: center;\n    background: transparent;\n    display: flex;\n    justify-content: center;\n}");var W={genericType:"*/*",mediaType:"*/*",type:"*",subType:"*",equals:function(t){return!!t&&this.mediaType===t.mediaType}};X("text","html");function X(t,e){return t=t||"*",e=e||"*",Object.assign(Object.create(W),{genericType:"".concat(t,"/*"),mediaType:"".concat(t,"/").concat(e||"*"),type:t,subtype:e})}X("application","pdf"),X("application","wsdl+xml"),X("application","xml"),X("text","*"),X("text","calendar"),X("text","plain"),X("application","rss+xml"),X("image","jpeg"),X("application","x-tgif"),X("application","msword"),X("application","zip"),X("application","atom+xml"),X("application","excel"),X("application","powerpoint"),X("image","gif"),X("application","rtf"),X("text","csv"),X("application","vnd.ms-excel"),X("application","vnd.openxmlformats-officedocument.spreadsheetml.sheet"),X("image","png"),X("application","vnd.openxmlformats-officedocument.wordprocessingml.document"),X("image","jpeg"),X("audio","mpeg"),X("application","postscript");var G={RAW_FROM_CONTENT:{description:"“From” Version"},RAW_TO_CONTENT:{description:"“To” Version"},RAW_SIDE_BY_SIDE:{description:"Side-by-side Content"},HIGHLIGHTED_TEXT:{description:"Highlighted Text",diffService:"html_text_dmp"},HIGHLIGHTED_SOURCE:{description:"Highlighted Source",diffService:"html_source_dmp"},HIGHLIGHTED_RENDERED:{description:"Highlighted Rendered",diffService:"html_token"},SIDE_BY_SIDE_RENDERED:{description:"Side-by-Side Rendered",diffService:"html_token",options:{include:"all"}},OUTGOING_LINKS:{description:"Outgoing Links",diffService:"links"},CHANGES_ONLY_TEXT:{description:"Changes Only Text",diffService:"html_text_dmp"},CHANGES_ONLY_SOURCE:{description:"Changes Only Source",diffService:"html_source_dmp"}};for(var J in G)G[J].value=J;var K=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){var t=this.props,e=t.data,n=t.onSelect,r={},a="unchanged",i=c(e,2),o=i[0],s=i[1];return-1===o?(a="removed",r.background="#ffc0cb"):1===o&&(a="added",r.background="#90ee90"),k.createElement("span",{className:"diff item ".concat(a),style:r,onClick:n},s)}}]),a}();r(K,"propTypes",{data:C.object,onSelect:C.func});var Z=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){var t=this,e=this.props,n=e.data,r=e.onSelectItem,a=e.className,i=function(t,e,n){return function(){t&&t(n,e)}},o=n.map((function(e,n){return k.createElement(t.props.component,{data:e,key:n,index:n,onSelect:i(r,e,n)})}));return k.createElement("div",{className:a},o)}}]),a}();r(Z,"propTypes",{data:C.object,onSelectItem:C.func,className:C.string});var Q=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){return k.createElement(Z,{data:this.props.diffData.diff,component:K,className:this.props.className})}}]),a}();r(Q,"propTypes",{diffData:C.object,className:C.string});var tt=function(t){return null==t},et=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){return k.createElement("span",null,"Loading...")}}]),a}(),nt=function(e){i(a,k.PureComponent);var r=l(a);function a(e){var n;return t(this,a),(n=r.call(this,e)).state={loaderStyle:null},n}return n(a,[{key:"render",value:function(){var t=this,e=function(){return tt(t.props.loader)?k.createElement(et,null):t.props.loader};return k.createElement("div",{style:this.state.loaderStyle},this.state.loaderStyle&&k.createElement(e,null))}},{key:"setLoaderStyle",value:function(t){this.setState({loaderStyle:t})}}]),a}();r(nt,"propTypes",{loader:C.object});var rt=function(e){i(a,k.PureComponent);var r=l(a);function a(e){var n;return t(this,a),(n=r.call(this,e)).loaderRef=k.createRef(),n._frame=null,n}return n(a,[{key:"componentDidMount",value:function(){this._updateContent(),this.addLoaderImg()}},{key:"componentDidUpdate",value:function(){this._updateContent()}},{key:"render",value:function(){var t=this;return k.createElement("div",null,k.createElement("iframe",{height:window.innerHeight,width:"100%",onLoad:function(){t.handleHeight(),t.removeLoaderImg()},sandbox:"allow-same-origin allow-forms allow-scripts",ref:function(e){t._frame=e}}),k.createElement(nt,{ref:this.loaderRef,loader:this.props.loader}))}},{key:"_updateContent",value:function(){var t=this,e=function(t,e){var n=(new DOMParser).parseFromString(t,"text/html");return n=e(n),"<!doctype html>\n".concat(n.documentElement.outerHTML)}(this.props.html,(function(e){return t.props.transform&&(e=t.props.transform(e)||e),function(t,e){if(e){var n=t.querySelector("base")||t.createElement("base");n.href=e;var r=t.querySelector("meta[charset]"),a=t.head.firstChild;r&&(a=r.nextSibling),a?a.parentNode.insertBefore(n,a):t.head.appendChild(n)}return t}(e,t.props.baseUrl)}));this._frame.setAttribute("srcdoc",e)}},{key:"handleHeight",value:function(){var t=this._frame.contentDocument.documentElement.scrollHeight;t>.1*this._frame.height?this._frame.height=t+.01*t:this._frame.height=.5*this._frame.height}},{key:"removeLoaderImg",value:function(){this.loaderRef.current.setLoaderStyle(null)}},{key:"addLoaderImg",value:function(){var t=this._frame.contentDocument.scrollingElement.offsetWidth,e=this._frame.offsetLeft+t/2;this.loaderRef.current.setLoaderStyle({position:"absolute",left:e+"px",top:"50%"})}}]),a}();r(rt,"propTypes",{loader:C.object,html:C.string,transform:C.func,baseUrl:C.string});var at=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){var t=this.props.diffData.combined||this.props.diffData.diff;return k.createElement("div",{className:"inline-render"},k.createElement(rt,{html:t,baseUrl:this.props.page.url}))}}]),a}();r(at,"propTypes",{diffData:C.object,page:C.object});var it=ut.bind(null,"removals"),ot=ut.bind(null,"additions"),st=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){var t=function(t){return t},e=t;return this.props.diffData.deletions||(t=it,e=ot),k.createElement("div",{className:"side-by-side-render"},k.createElement(rt,{loader:this.props.loader,html:this.props.diffData.deletions||this.props.diffData.diff,baseUrl:this.props.page.url,transform:t}),k.createElement(rt,{loader:this.props.loader,html:this.props.diffData.insertions||this.props.diffData.diff,baseUrl:this.props.page.url,transform:e}))}}]),a}();function ut(t,e){if("additions"!==t){var n=e.getElementById("wm-diff-old-head").content,r=e.getElementById("wm-diff-style"),a=e.querySelector('meta[name="wm-diff-title"]');e.head.innerHTML="",e.head.appendChild(n),e.head.appendChild(r),e.head.appendChild(a)}return function(t,e){function n(t){if(0!==t.size){var e=new Set;return t.forEach((function(t){t.parentNode&&0===t.childElementCount&&/^[\s\n\r]*$/.test(t.textContent)&&(e.add(t.parentNode),t.parentNode.removeChild(t))})),n(e)}}var r=new Set;e.querySelectorAll(t).forEach((function(t){r.add(t.parentNode),t.parentNode.removeChild(t)})),n(r)}("additions"===t?"del":"ins",e),function(t,e){if("additions"===t)return;e.querySelectorAll(".wm-diff-inserted-active").forEach((function(t){return t.remove()})),e.querySelectorAll(".wm-diff-deleted-inert").forEach((function(t){var e=t.content;t.parentNode.insertBefore(e,t),t.remove()}))}(t,e),e}r(st,"propTypes",{diffData:C.object,page:C.object,loader:C.object});var lt=3,ct=300,ft=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){var t=this.props.diffData.diff.reduce(pt,[]);return k.createElement(Z,{data:t,component:K,className:this.props.className})}}]),a}();function pt(t,e,n,r){var a=c(e,2),i=a[0],o=a[1];if(0!==i)return t.concat([e]);var s=o.split("\n"),u=1===s.length;if(!u&&s.length<=lt)return t.concat([e]);var l=r[n-1]&&0!==r[n-1][0],f=r[n+1]&&0!==r[n+1][0],p=u?ct:lt;if(l&&f&&(p*=2),(u?s[0]:s).length<=p)return t.concat([e]);var h=[];if(l){var d=[];if(u)d.push(s[0].slice(0,ct));else{var m=s.slice(0,lt).map((function(t){return t.length>ct?t.slice(0,ct)+"…":t}));d.push(m.join("\n")+"\n")}h.push([i,d.join("")])}if(h.push([i,"…"]),f){var v=[];if(u)v.push(s[0].slice(-ct));else{var y=s.slice(0,lt).map((function(t,e,n){return t.length>ct?null==n[e+1]?"…"+t.slice(-ct):t.slice(0,ct)+"…":t}));v.push("\n"+y.join("\n"))}h.push([i,v.join("")])}return t.concat(h)}r(ft,"propTypes",{diffData:C.object,className:C.string});var ht=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){return this.props.content&&/^[\s\n\r]*</.test(this.props.content)?k.createElement("div",{className:"inline-render"},k.createElement(rt,{html:this.props.content,baseUrl:this.props.page.url})):k.createElement("div",{className:"inline-render"},k.createElement("iframe",{src:this.props.version}))}}]),a}();r(ht,"propTypes",{content:C.string,page:C.object,version:C.string});var dt=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){return k.createElement("div",{className:"side-by-side-render"},mt(this.props.page,this.props.a,this.props.diffData.rawA),mt(this.props.page,this.props.b,this.props.diffData.rawB))}}]),a}();function mt(t,e,n){return n&&/^[\s\n\r]*</.test(n)?k.createElement(rt,{html:n,baseUrl:t.url}):k.createElement("iframe",{src:e})}r(dt,"propTypes",{page:C.object,diffData:C.object,a:C.string,b:C.string});var vt="object"==typeof m&&m&&m.Object===Object&&m,yt=vt,gt="object"==typeof self&&self&&self.Object===Object&&self,bt=yt||gt||Function("return this")(),_t=bt.Symbol,wt=_t,xt=Object.prototype,Et=xt.hasOwnProperty,St=xt.toString,kt=wt?wt.toStringTag:void 0;var Ct=function(t){var e=Et.call(t,kt),n=t[kt];try{t[kt]=void 0;var r=!0}catch(t){}var a=St.call(t);return r&&(e?t[kt]=n:delete t[kt]),a},jt=Object.prototype.toString;var Tt=Ct,Ot=function(t){return jt.call(t)},At="[object Null]",Rt="[object Undefined]",Nt=_t?_t.toStringTag:void 0;var Dt=function(t){return null==t?void 0===t?Rt:At:Nt&&Nt in Object(t)?Tt(t):Ot(t)};var Pt=function(t){return null!=t&&"object"==typeof t},Mt=Dt,$t=Pt,It="[object Symbol]";var Lt=function(t){return"symbol"==typeof t||$t(t)&&Mt(t)==It},Ht=Lt;var Bt=function(t,e,n){for(var r=-1,a=t.length;++r<a;){var i=t[r],o=e(i);if(null!=o&&(void 0===s?o==o&&!Ht(o):n(o,s)))var s=o,u=i}return u};var Ut=function(t){return t},Ft=Bt,zt=function(t,e){return t>e},qt=Ut;var Vt=function(t){return t&&t.length?Ft(t,qt,zt):void 0};var Yt=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Wt=Math.max;var Xt=function(t,e,n){return e=Wt(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,i=Wt(r.length-e,0),o=Array(i);++a<i;)o[a]=r[e+a];a=-1;for(var s=Array(e+1);++a<e;)s[a]=r[a];return s[e]=n(o),Yt(t,this,s)}};var Gt=function(t){return function(){return t}};var Jt=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},Kt=Dt,Zt=Jt,Qt="[object AsyncFunction]",te="[object Function]",ee="[object GeneratorFunction]",ne="[object Proxy]";var re,ae=function(t){if(!Zt(t))return!1;var e=Kt(t);return e==te||e==ee||e==Qt||e==ne},ie=bt["__core-js_shared__"],oe=(re=/[^.]+$/.exec(ie&&ie.keys&&ie.keys.IE_PROTO||""))?"Symbol(src)_1."+re:"";var se=function(t){return!!oe&&oe in t},ue=Function.prototype.toString;var le=function(t){if(null!=t){try{return ue.call(t)}catch(t){}try{return t+""}catch(t){}}return""},ce=ae,fe=se,pe=Jt,he=le,de=/^\[object .+?Constructor\]$/,me=Function.prototype,ve=Object.prototype,ye=me.toString,ge=ve.hasOwnProperty,be=RegExp("^"+ye.call(ge).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var _e=function(t,e){return null==t?void 0:t[e]},we=function(t){return!(!pe(t)||fe(t))&&(ce(t)?be:de).test(he(t))},xe=_e;var Ee=function(t,e){var n=xe(t,e);return we(n)?n:void 0},Se=Ee,ke=function(){try{var t=Se(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ce=Gt,je=ke,Te=je?function(t,e){return je(t,"toString",{configurable:!0,enumerable:!1,value:Ce(e),writable:!0})}:Ut,Oe=800,Ae=16,Re=Date.now;var Ne=function(t){var e=0,n=0;return function(){var r=Re(),a=Ae-(r-n);if(n=r,a>0){if(++e>=Oe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}},De=Ne(Te),Pe=Ut,Me=Xt,$e=De;var Ie=function(t,e){return $e(Me(t,e,Pe),t+"")};var Le=function(t,e){for(var n=-1,r=null==t?0:t.length,a=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[a++]=o)}return i};var He=function(t,e){for(var n=-1,r=null==t?0:t.length,a=Array(r);++n<r;)a[n]=e(t[n],n,t);return a};var Be=function(t){return function(e){return null==e?void 0:e[t]}};var Ue=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},Fe=9007199254740991;var ze=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Fe},qe=ae,Ve=ze;var Ye=function(t){return null!=t&&Ve(t.length)&&!qe(t)},We=Ye,Xe=Pt;var Ge=Le,Je=He,Ke=Be,Ze=Ue,Qe=function(t){return Xe(t)&&We(t)},tn=Math.max;var en=function(t){if(!t||!t.length)return[];var e=0;return t=Ge(t,(function(t){if(Qe(t))return e=tn(t.length,e),!0})),Ze(e,(function(e){return Je(t,Ke(e))}))},nn=Ie(en),rn=/[\w\.]{2,256}\.[a-z]{2,4}/gi;function an(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLocaleLowerCase();return(t.startsWith("ftp://")||t.startsWith("http://")||t.startsWith("https://")||function(t){return!!t.match(rn)}(t))&&!(t.indexOf(" ")>=0)&&!t.startsWith("site:")}function on(t,e){if(Number.isInteger(t)&&Number.isInteger(e))return sn(t^e)/32;var n=8*atob(t).length,r=8*atob(e).length,a=Vt([n,r]),i=function(t,e){return nn(t,e).map((function(t){var e=c(t,2);return sn(e[0]^e[1])})).reduce((function(t,e){return t+e}),0)}(mn(t),mn(e));return i/a}function sn(t){for(var e=0;0!==t;)e++,t&=t-1;return e}function un(t){if(t){if(!t.ok)throw Error(t.status);return t}}function ln(t,e){return new Promise((function(n,r){setTimeout((function(){r(new Error("timeout"))}),45e3),fetch(t,e).then(n,r)}))}function cn(t){return"string"==typeof t?t:t>9?""+t:"0"+t}function fn(t,e){return Object.keys(t).find((function(n){return t[n]===e}))}function pn(t,e){return null!==t&&t.innerHTML.indexOf('value="'+e+'"')>-1}function hn(t){var e=parseInt(t.substring(0,4),10),n=parseInt(t.substring(4,6),10)-1,r=parseInt(t.substring(6,8),10),a=parseInt(t.substring(8,10),10),i=parseInt(t.substring(10,12),10),o=parseInt(t.substring(12,14),10);return new Date(Date.UTC(e,n,r,a,i,o)).toUTCString()}function dn(t){var e=parseInt(t.substring(0,4),10),n=parseInt(t.substring(4,6),10)-1,r=parseInt(t.substring(6,8),10);return new Date(Date.UTC(e,n,r)).toUTCString().split(" ").slice(0,4).join(" ")}function mn(t){for(var e=atob(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return new Uint8Array(n)}var vn=function(e){i(o,k.Component);var a=l(o);function o(e){var n;return t(this,o),r(u(n=a.call(this,e)),"isMountedNow",!1),n._abortController=new window.AbortController,n.state={diffData:null},n}return n(o,[{key:"componentDidMount",value:function(){this.isMountedNow=!0;var t=this.props;this._canFetch(t)&&this._loadDiffData(t.page,t.a,t.b,t.diffType)}},{key:"componentWillUnmount",value:function(){this.isMountedNow=!1,this._abortController.abort()}},{key:"componentDidUpdate",value:function(t){var e=this.props;this._canFetch(e)&&!this._propsSpecifySameDiff(e,t)&&this._loadDiffData(e.page,e.a,e.b,e.diffType)}},{key:"render",value:function(){var t=this;if(!this.state.diffData){var e=function(){return tt(t.props.loader)?k.createElement(et,null):t.props.loader};return k.createElement("div",{className:"loading"},k.createElement(e,null))}return k.createElement("div",{className:"diff-view"},this.renderNoChangeMessage()||this.renderUndiffableMessage(),this.renderDiff())}},{key:"renderNoChangeMessage",value:function(){return 0===this.state.diffData.change_count?k.createElement("div",{className:"diff-view__alert alert alert-warning"},"There were ",k.createElement("strong",null,"no changes for this diff type"),". (Other diff types may show changes.)"):null}},{key:"renderUndiffableMessage",value:function(){return this.state.diffData.raw?k.createElement("div",{className:"diff-view__alert alert alert-info"},"We can’t compare the selected versions of page; you are viewing the content without deletions and insertions highlighted."):null}},{key:"renderDiff",value:function(){switch(this.props.diffType){case G.RAW_SIDE_BY_SIDE.value:return k.createElement(dt,{page:this.props.page,a:this.props.a,b:this.props.b,diffData:this.state.diffData});case G.RAW_FROM_CONTENT.value:return k.createElement(ht,{page:this.props.page,version:this.props.a,content:this.state.diffData.rawA});case G.RAW_TO_CONTENT.value:return k.createElement(ht,{page:this.props.page,version:this.props.b,content:this.state.diffData.rawB});case G.HIGHLIGHTED_RENDERED.value:return k.createElement(at,{diffData:this.state.diffData,page:this.props.page});case G.SIDE_BY_SIDE_RENDERED.value:return k.createElement(st,{diffData:this.state.diffData,page:this.props.page,loader:this.props.loader});case G.OUTGOING_LINKS.value:return k.createElement(at,{diffData:this.state.diffData,page:this.props.page});case G.HIGHLIGHTED_TEXT.value:return k.createElement(Q,{diffData:this.state.diffData,className:"diff-text-inline"});case G.HIGHLIGHTED_SOURCE.value:return k.createElement(Q,{diffData:this.state.diffData,className:"diff-source-inline"});case G.CHANGES_ONLY_TEXT.value:return k.createElement(ft,{diffData:this.state.diffData,className:"diff-text-inline"});case G.CHANGES_ONLY_SOURCE.value:return k.createElement(ft,{diffData:this.state.diffData,className:"diff-source-inline"});default:return null}}},{key:"_propsSpecifySameDiff",value:function(t,e){return(e=e||this.props).a===t.a&&e.b===t.b&&e.diffType===t.diffType}},{key:"_canFetch",value:function(t){return t.diffType&&t.a&&t.b}},{key:"_loadDiffData",value:function(t,e,n,r){var a=this;if(this.setState({diffData:null}),!G[r].diffService)return Promise.all([ln(e.uri,{mode:"cors"}),ln(n.uri,{mode:"cors"})]).then((function(t){var e=c(t,2);return{raw:!0,rawA:e[0],rawB:e[1]}})).catch((function(t){return t})).then((function(t){return a.setState({diffData:t})}));var i=new URL(this.props.webMonitoringProcessingURL+"/"+G[r].diffService);i.searchParams.append("strict_urls","WBM"),i.searchParams.append("format","json"),i.searchParams.append("pass_headers","cookie"),i.searchParams.append("include","all"),i.searchParams.append("a",e),i.searchParams.append("b",n),ln(i,{credentials:"include"}).then(un).then((function(t){return t.json()})).then((function(t){a.setState({diffData:t})})).catch((function(t){a._errorHandled(t.message)}))}},{key:"_errorHandled",value:function(t){this.isMountedNow&&(this.props.errorHandledCallback(t),this.setState({showError:!0}))}}]),o}();r(vn,"propTypes",{a:C.object,b:C.object,diffType:C.string,loader:C.object,webMonitoringProcessingURL:C.string,errorHandledCallback:C.func,page:C.object});Y("#diff-select{\n    margin-bottom: 0.7em;\n}\n\n.timestamp-container-view{\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n#diff-footer{\n    text-align: center;\n}\n\nyellow-diff-footer{\n    background-color: #f7f417;\n}\n\nblue-diff-footer{\n    background-color: #1d9efd;\n}\n\n.align-items-center > .col-auto {\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.timestamp-select,\n#year-select-left, #year-select-right,\n.month-select {\n    width: auto;\n    padding-left: 1px;\n    padding-right: 1px;\n}\n\n#explanation-middle{\n    text-align: center;\n}\n\n#timestamp-left{\n    display: inline-block;\n    float: left;\n    margin-left: 17.8%;\n}\n\n#timestamp-right{\n    display: inline-block;\n    float: right;\n    margin-right: 17.8%;\n}\n\n.wayback-ymd-timestamp{\n    display: flex;\n}\n\n.wayback-timestamps> * {\n    margin-left: 10px;\n    margin-right: 10px;\n}\n\n.wayback-timestamps {\n    width: 42.86%;\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n}\n\n.wayback-ymd-buttons > *{\n    display: block;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.wayback-ymd-buttons {\n    width: 14.28%;\n    display: flex;\n    flex-flow: row wrap;\n    justify-content: center;\n}\n");var yn=Object.prototype;var gn=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yn)};var bn=function(t,e){return function(n){return t(e(n))}}(Object.keys,Object),_n=gn,wn=bn,xn=Object.prototype.hasOwnProperty;var En=function(t){if(!_n(t))return wn(t);var e=[];for(var n in Object(t))xn.call(t,n)&&"constructor"!=n&&e.push(n);return e},Sn=Ee(bt,"DataView"),kn=Ee(bt,"Map"),Cn=Sn,jn=kn,Tn=Ee(bt,"Promise"),On=Ee(bt,"Set"),An=Ee(bt,"WeakMap"),Rn=Dt,Nn=le,Dn="[object Map]",Pn="[object Promise]",Mn="[object Set]",$n="[object WeakMap]",In="[object DataView]",Ln=Nn(Cn),Hn=Nn(jn),Bn=Nn(Tn),Un=Nn(On),Fn=Nn(An),zn=Rn;(Cn&&zn(new Cn(new ArrayBuffer(1)))!=In||jn&&zn(new jn)!=Dn||Tn&&zn(Tn.resolve())!=Pn||On&&zn(new On)!=Mn||An&&zn(new An)!=$n)&&(zn=function(t){var e=Rn(t),n="[object Object]"==e?t.constructor:void 0,r=n?Nn(n):"";if(r)switch(r){case Ln:return In;case Hn:return Dn;case Bn:return Pn;case Un:return Mn;case Fn:return $n}return e});var qn=zn,Vn=Dt,Yn=Pt,Wn="[object Arguments]";var Xn=function(t){return Yn(t)&&Vn(t)==Wn},Gn=Pt,Jn=Object.prototype,Kn=Jn.hasOwnProperty,Zn=Jn.propertyIsEnumerable,Qn=Xn(function(){return arguments}())?Xn:function(t){return Gn(t)&&Kn.call(t,"callee")&&!Zn.call(t,"callee")},tr=Array.isArray,er={};var nr=function(){return!1};!function(t,e){var n=bt,r=nr,a=e&&!e.nodeType&&e,i=a&&t&&!t.nodeType&&t,o=i&&i.exports===a?n.Buffer:void 0,s=(o?o.isBuffer:void 0)||r;t.exports=s}({get exports(){return er},set exports(t){er=t}},er);var rr=Dt,ar=ze,ir=Pt,or={};or["[object Float32Array]"]=or["[object Float64Array]"]=or["[object Int8Array]"]=or["[object Int16Array]"]=or["[object Int32Array]"]=or["[object Uint8Array]"]=or["[object Uint8ClampedArray]"]=or["[object Uint16Array]"]=or["[object Uint32Array]"]=!0,or["[object Arguments]"]=or["[object Array]"]=or["[object ArrayBuffer]"]=or["[object Boolean]"]=or["[object DataView]"]=or["[object Date]"]=or["[object Error]"]=or["[object Function]"]=or["[object Map]"]=or["[object Number]"]=or["[object Object]"]=or["[object RegExp]"]=or["[object Set]"]=or["[object String]"]=or["[object WeakMap]"]=!1;var sr=function(t){return ir(t)&&ar(t.length)&&!!or[rr(t)]};var ur=function(t){return function(e){return t(e)}},lr={};!function(t,e){var n=vt,r=e&&!e.nodeType&&e,a=r&&t&&!t.nodeType&&t,i=a&&a.exports===r&&n.process,o=function(){try{var t=a&&a.require&&a.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=o}({get exports(){return lr},set exports(t){lr=t}},lr);var cr=sr,fr=ur,pr=lr&&lr.isTypedArray,hr=pr?fr(pr):cr,dr=En,mr=qn,vr=Qn,yr=tr,gr=Ye,br=er,_r=gn,wr=hr,xr="[object Map]",Er="[object Set]",Sr=Object.prototype.hasOwnProperty;var kr=function(t){if(null==t)return!0;if(gr(t)&&(yr(t)||"string"==typeof t||"function"==typeof t.splice||br(t)||wr(t)||vr(t)))return!t.length;var e=mr(t);if(e==xr||e==Er)return!t.size;if(_r(t))return!dr(t).length;for(var n in t)if(Sr.call(t,n))return!1;return!0},Cr={1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},jr=function(e){i(o,k.Component);var a=l(o);function o(e){var n;t(this,o),r(u(n=a.call(this,e)),"_leftMonthIndex",-1),r(u(n),"_rightMonthIndex",-1),n._abortController=new window.AbortController;var i=void 0===n.props.timestampA?"":n.props.timestampA.substring(0,4),s=void 0===n.props.timestampB?"":n.props.timestampB.substring(0,4);return n.timestampSelectLeft=k.createRef(),n.timestampSelectRight=k.createRef(),n.monthSelectLeft=k.createRef(),n.monthSelectRight=k.createRef(),n.state={timestampA:n.props.timestampA,timestampB:n.props.timestampB,leftYear:i,rightYear:s,showRestartBtn:!1,showDiffBtn:!1,timestampAttempt:0,isMounted:!1,shouldValidateTimestamp:!0},n._handleLeftTimestampChange=n._handleLeftTimestampChange.bind(u(n)),n._handleRightTimestampChange=n._handleRightTimestampChange.bind(u(n)),n._restartPressed=n._restartPressed.bind(u(n)),n._showDiffs=n._showDiffs.bind(u(n)),n._errorHandled=n._errorHandled.bind(u(n)),n._showMonths=n._showMonths.bind(u(n)),n._handleYearChange=n._handleYearChange.bind(u(n)),n.handleLeftMonthChange=n.handleLeftMonthChange.bind(u(n)),n.handleRightMonthChange=n.handleRightMonthChange.bind(u(n)),n}return n(o,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0}),!this.state.showError&&this.state.timestampAttempt<2&&(this.state.cdxData?this._areRequestedTimestampsSelected():this._fetchCDXData())}},{key:"componentDidUpdate",value:function(){this.state.sparkline||this.state.showLoader||this._fetchSparklineData(),this.state.cdxData&&(this.state.shouldValidateTimestamp&&this._checkTimestamps(),this.state.showLoader||(this._selectValues(),!this.state.sparkline||this.state.leftMonthOptions||this.state.rightMonthOptions||-1===this._leftMonthIndex&&-1===this._rightMonthIndex||this._showMonths()))}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1}),this._abortController.abort()}},{key:"_handleRightTimestampChange",value:function(){if(!kr(this.state.leftSnapElements)){var t=this.state.rightSnaps[this.timestampSelectRight.current.selectedIndex-1][1],e=this.state.leftSnaps.filter((function(e){return e[1]!==t}));this.setState({showRestartBtn:!0,showDiffBtn:!0,leftSnapElements:this._prepareOptionElements(e)})}}},{key:"_handleLeftTimestampChange",value:function(){if(!kr(this.state.rightSnapElements)){var t=this.state.leftSnaps[this.timestampSelectLeft.current.selectedIndex-1][1],e=this.state.rightSnaps.filter((function(e){return e[1]!==t}));this.setState({showRestartBtn:!0,showDiffBtn:!0,rightSnapElements:this._prepareOptionElements(e)})}}},{key:"render",value:function(){var t=this,e=function(){return tt(t.props.loader)?k.createElement(et,null):t.props.loader};return this.state.showLoader&&!this.state.showError?k.createElement("div",{className:"loading"},k.createElement(e,null)):!this.state.showError&&this.state.timestampAttempt<2?this.state.yearOptions||this.state.cdxData?k.createElement("div",{className:"timestamp-header-view"},this._showInfo(),this._showTimestampSelector(),k.createElement("div",null,this.state.timestampA&&k.createElement("a",{href:this.props.conf.snapshotsPrefix+this.state.timestampA+"/"+this.props.url,id:"timestamp-left",target:"_blank",rel:"noopener noreferrer"}," Open in new window"),this.state.timestampB&&k.createElement("a",{href:this.props.conf.snapshotsPrefix+this.state.timestampB+"/"+this.props.url,id:"timestamp-right",target:"_blank",rel:"noopener noreferrer"},"Open in new window"),k.createElement("br",null))):k.createElement(e,null):void 0}},{key:"_areRequestedTimestampsSelected",value:function(){if(this.state.finishedValidating){if(!isNaN(this.state.timestampA)){var t=this.state.leftSnaps.slice(-1)[0];if(this.state.timestampA>t){var e=this._prepareOptionElements([[this.state.timestampA,0]]);this.setState({leftSnapElements:[].concat(f(this.state.leftSnapElements),[e]),leftSnaps:[].concat(f(this.state.leftSnaps),[[this.state.timestampA,"0"]]),finishedValidating:!1})}}if(!isNaN(this.state.timestampB)){var n=this.state.rightSnaps.slice(-1)[0];if(this.state.timestampB>n){var r=this._prepareOptionElements([[this.state.timestampB,0]]);this.setState({rightSnapElements:[].concat(f(this.state.rightSnapElements),[r]),rightSnaps:[].concat(f(this.state.rightSnaps),[[this.state.timestampB,"1"]]),finishedValidating:!1})}}}}},{key:"_checkTimestamps",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.setState({shouldValidateTimestamp:!1});var n={a:"",b:""};this.state.timestampA&&this.state.timestampB?this._validateTimestamp(this.state.timestampA,n,"a").then((function(){return t._validateTimestamp(t.state.timestampB,n,"b")})).then((function(){t._redirectToValidatedTimestamps?t._setNewURL(n.a,n.b):t.setState({finishedValidating:!0})})).catch((function(e){t._errorHandled(e.message)})):this.state.timestampA?this._validateTimestamp(this.state.timestampA,n,"a").then((function(){t._redirectToValidatedTimestamps?t._setNewURL(n.a,n.b):t.setState({finishedValidating:!0})})).catch((function(e){t._errorHandled(e.message)})):this.state.timestampB?this._validateTimestamp(this.state.timestampB,n,"b").then((function(){t._redirectToValidatedTimestamps?t._setNewURL(n.a,n.b):t.setState({finishedValidating:!0})})).catch((function(e){t._errorHandled(e.message)})):("left"===e?this.setState({leftSnapElements:null,leftSnaps:null}):"right"===e&&this.setState({rightSnapElements:null,rightSnaps:null}),this.setState({finishedValidating:!0,showLoader:!1}))}},{key:"_validateTimestamp",value:function(t,e,n){if(this.props.fetchSnapshotCallback)return this._handleTimestampValidationFetch(this.props.fetchSnapshotCallback(t),t,e,n);var r=new URL(this.props.conf.cdxServer,window.location.origin);return r.searchParams.append("url",this.props.url),r.searchParams.append("closest",t),r.searchParams.append("filter","!mimetype:warc/revisit"),r.searchParams.append("format","json"),r.searchParams.append("sort","closest"),r.searchParams.append("limit","1"),r.searchParams.append("fl","timestamp"),this._handleTimestampValidationFetch(ln(r,{signal:this._abortController.signal}),t,e,n)}},{key:"_handleTimestampValidationFetch",value:function(t,e,n,r){var a=this;return t.then(un).then((function(t){return t.json()})).then((function(t){t?(n[r]="".concat(t),e!==n[r]&&(a._redirectToValidatedTimestamps=!0)):a._errorHandled("404")})).catch((function(t){a.errorHandled(t.message)}))}},{key:"_setNewURL",value:function(t,e){this._redirectToValidatedTimestamps=!1,void 0===t&&(t=""),void 0===e&&(e=""),window.history.pushState({},"",this.props.conf.urlPrefix+t+"/"+e+"/"+this.props.url),this.setState({timestampA:t,timestampB:e,finishedValidating:!0,timestampAttempt:this.state.timestampAttempt+1,showLoader:!1})}},{key:"createCDXRequest",value:function(t){var e=new URL(this.props.conf.cdxServer,window.location.origin);return e.searchParams.append("url",this.props.url),e.searchParams.append("fl","timestamp,digest"),e.searchParams.append("output","json"),e.searchParams.append("from",t),e.searchParams.append("to",t),e.searchParams.append("limit",this.props.conf.limit),ln(e,{signal:this._abortController.signal}).then(un).then((function(t){return t.json()}))}},{key:"_fetchCDXData",value:function(){var t,e,n=this;this.setState({showLoader:!0}),this._saveMonthsIndex(),this.props.fetchCDXCallback?t=this.props.fetchCDXCallback().then(un).then((function(t){return t.json()})):(-1===this._leftMonthIndex||isNaN(this._leftMonthIndex)||(t=this.createCDXRequest(this.state.leftYear+cn(this._leftMonthIndex))),-1===this._rightMonthIndex||isNaN(this._rightMonthIndex)||(e=this.createCDXRequest(this.state.rightYear+cn(this._rightMonthIndex)))),t?t.then((function(t){if(t&&t.length>0)if(e){var r=t;e.then((function(t){t&&t.length>0?n._prepareCDXData(r,t):n._checkTimestamps("right")}))}else n._prepareCDXData(t,null);else n._checkTimestamps("left")})).catch((function(t){n._errorHandled(t.message)})):e&&e.then((function(t){t&&t.length>0?n._prepareCDXData(null,t):n._checkTimestamps("right")}))}},{key:"_errorHandled",value:function(t){this.state.isMounted&&(this.props.errorHandledCallback(t),this.setState({showError:!0}))}},{key:"_prepareCDXData",value:function(t,e){e&&e.shift(),t&&t.shift(),this.props.getTimestampsCallback(this.state.timestampA,this.state.timestampB),this.setState({cdxData:!0,leftSnaps:t,rightSnaps:e,leftSnapElements:this._prepareOptionElements(t),rightSnapElements:this._prepareOptionElements(e),showLoader:!1})}},{key:"_prepareOptionElements",value:function(t){return t&&t.map((function(t,e){return k.createElement("option",{key:e,value:t[0]},hn(t[0]))}))}},{key:"_monthOptions",value:function(t){var e=parseInt(this.props.conf.limit);return t&&t.slice(0).reverse().map((function(t,n){var r=Math.min(t[1],e);return k.createElement("option",{key:n,value:t[0]},"".concat(t[0]," (").concat(r,")"))}))}},{key:"_restartPressed",value:function(){this.setState({showRestartBtn:!1,leftSnapElements:this._prepareOptionElements(this.state.leftSnaps),rightSnapElements:this._prepareOptionElements(this.state.rightSnaps)})}},{key:"_showTimestampSelector",value:function(){return k.createElement("div",{className:"wayback-ymd-timestamp"},k.createElement("div",{className:"wayback-timestamps"},k.createElement("select",{className:"form-control input-sm mr-sm-1",id:"year-select-left",onChange:this._handleYearChange,title:"Years and available captures",value:this.state.leftYear},k.createElement("option",{value:"",disabled:!0},"Year"),this.state.yearOptions),k.createElement("select",{className:"form-control input-sm mr-sm-1 month-select",ref:this.monthSelectLeft,onChange:this.handleLeftMonthChange,title:"Months and available captures",defaultValue:""},k.createElement("option",{value:"",disabled:!0},"Month"),this.state.leftMonthOptions),!kr(this.state.leftSnapElements)&&k.createElement("select",{className:"form-control input-sm mr-sm-1 timestamp-select",ref:this.timestampSelectLeft,onChange:this._handleLeftTimestampChange,defaultValue:""},k.createElement("option",{value:"",disabled:!0},"Available captures"),this.state.leftSnapElements)),k.createElement("div",{className:"wayback-ymd-buttons"},this.state.showDiffBtn&&k.createElement("button",{className:"btn btn-default btn-sm",onClick:this._showDiffs},"Show differences"),this.state.showRestartBtn&&k.createElement("button",{className:"btn btn-default btn-sm",onClick:this._restartPressed},"Restart")),k.createElement("div",{className:"wayback-timestamps"},!kr(this.state.rightSnapElements)&&k.createElement("select",{className:"form-control input-sm mr-sm-1 timestamp-select",ref:this.timestampSelectRight,onChange:this._handleRightTimestampChange,defaultValue:""},k.createElement("option",{value:"",disabled:!0},"Available captures"),this.state.rightSnapElements),k.createElement("select",{className:"form-control input-sm mr-sm-1 month-select",ref:this.monthSelectRight,onChange:this.handleRightMonthChange,title:"Months and available captures",defaultValue:""},k.createElement("option",{value:"",disabled:!0},"Month"),this.state.rightMonthOptions),k.createElement("select",{className:"form-control input-sm mr-sm-1",id:"year-select-right",onChange:this._handleYearChange,title:"Years and available captures",value:this.state.rightYear},k.createElement("option",{value:"",disabled:!0},"Year"),this.state.yearOptions)))}},{key:"_showDiffs",value:function(){var t=this.timestampSelectLeft.current.value,e=this.timestampSelectRight.current.value;this.props.getTimestampsCallback(t,e),this.setState({timestampA:t,timestampB:e})}},{key:"_selectValues",value:function(){!kr(this.state.leftSnapElements)&&this.state.timestampA&&(this.timestampSelectLeft.current.value=this.state.timestampA),!kr(this.state.rightSnapElements)&&this.state.timestampB&&(this.timestampSelectRight.current.value=this.state.timestampB);var t=this.monthSelectLeft.current,e=this.monthSelectRight.current;pn(t,Cr[this._leftMonthIndex])?t.value=Cr[this._leftMonthIndex]:t.selectedIndex=0,pn(e,Cr[this._rightMonthIndex])?e.value=Cr[this._rightMonthIndex]:e.selectedIndex=0}},{key:"_getHeaderInfo",value:function(t,e,n){var r=dn(t),a=dn(e);return k.createElement("p",{id:"explanation-middle"}," Compare any two captures of ",this.props.url," from our collection of ",n.toLocaleString()," dating from ",r," to ",a,".")}},{key:"_fetchSparklineData",value:function(){var t=this;this.setState({showLoader:!0});var e=new URL(this.props.conf.sparklineURL,window.location.origin);e.searchParams.append("url",this.props.url),e.searchParams.append("collection","web"),e.searchParams.append("output","json"),ln(e,{signal:this._abortController.signal}).then(un).then((function(t){return t.json()})).then((function(e){e?t._prepareSparklineData(e):t._errorHandled("404")})).catch((function(e){t._errorHandled(e.message)}))}},{key:"_prepareSparklineData",value:function(t){var e=t.years,n=new Array(e.length),r=0,a=0;for(var i in e){n[r]=[i,0];for(var o=0;o<e[i].length;o++)n[r][1]=n[r][1]+e[i][o],a+=e[i][o];r++}this.setState({showLoader:!1,sparkline:e,yearOptions:this._monthOptions(n),headerInfo:this._getHeaderInfo(t.first_ts,t.last_ts,a)})}},{key:"_showMonths",value:function(t,e){tt(t)&&(t=this.state.leftYear),tt(e)&&(e=this.state.rightYear);var n=this._getMonthData(this.state.sparkline[t]),r=this._getMonthData(this.state.sparkline[e]);this.setState({leftMonthOptions:this._monthOptions(n),rightMonthOptions:this._monthOptions(r)})}},{key:"_getMonthData",value:function(t){if(!kr(t)){for(var e=[],n=0;n<=11;n++)t[n]>0&&e.push([Cr[n+1],t[n]]);return e}}},{key:"handleLeftMonthChange",value:function(t){this._fetchCDXData(),this.setState({showDiffBtn:!0,timestampA:null,timestampB:null})}},{key:"handleRightMonthChange",value:function(t){this._fetchCDXData(),this.setState({showDiffBtn:!0,timestampA:null,timestampB:null})}},{key:"_showInfo",value:function(){return k.createElement("div",null,this.state.headerInfo,k.createElement("div",{id:"timestamp-left"},"Please select a capture"),k.createElement("div",{id:"timestamp-right"},"Please select a capture"),k.createElement("br",null))}},{key:"_handleYearChange",value:function(t){"year-select-left"===t.target.id?(this._leftMonthIndex=0,this.setState({leftYear:t.target.value,leftSnapElements:null,showDiffBtn:!1}),this._showMonths(t.target.value,null)):(this._rightMonthIndex=0,this.setState({rightYear:t.target.value,rightSnapElements:null,showDiffBtn:!1}),this._showMonths(null,t.target.value))}},{key:"_saveMonthsIndex",value:function(){if(-1!==this._leftMonthIndex){var t=this.monthSelectLeft.current.value;this._leftMonthIndex=parseInt(fn(Cr,t))}else this.state.timestampA&&(this._leftMonthIndex=parseInt(this.state.timestampA.substring(4,6)));if(-1!==this._rightMonthIndex){var e=this.monthSelectRight.current.value;this._rightMonthIndex=parseInt(fn(Cr,e))}else this.state.timestampB&&(this._rightMonthIndex=parseInt(this.state.timestampB.substring(4,6)))}}]),o}();function Tr(){return k.createElement("p",{id:"diff-footer"},k.createElement("yellow-diff-footer",null,"Yellow")," indicates content deletion. ",k.createElement("blue-diff-footer",null,"Blue")," indicates content addition.")}r(jr,"propTypes",{loader:C.object,fetchSnapshotCallback:C.func,fetchCDXCallback:C.func,errorHandledCallback:C.func,getTimestampsCallback:C.func,timestampA:C.string,timestampB:C.string,conf:C.object,url:C.string});var Or=function(e){i(a,k.Component);var r=l(a);function a(){return t(this,a),r.apply(this,arguments)}return n(a,[{key:"render",value:function(){return k.createElement("h1",null,"No capture is selected, please pick one from the list.")}}]),a}(),Ar=function(t){var e=t.code,n=t.url,r=t.timestamp,a=t.conf,i=t.errorHandledCallback,o="We are sorry but there is a problem comparing these captures. Please try two different ones.",s=!1,u="";void 0!==r&&(u=r.substring(0,4));var l=y.useCallback((function(){ln("".concat(a.waybackDiscoverDiff,"/calculate-simhash?url=").concat(encodeURIComponent(n),"&year=").concat(r.substring(0,4))).then(un).then((function(){setTimeout((function(){window.location.reload(!0)}),1e4)})).catch((function(t){i(t.message)}))}),[a,n,r]);switch(e){case"404":o="The Wayback Machine has not archived ".concat(n,"."),s=!1;break;case"422":o="The captures of ".concat(n," cannot be compared. Note that we support only HTML capture comparison."),s=!1;break;case"CAPTURE_NOT_FOUND":o="There are no data available for ".concat(n," at ").concat(r,"."),s=!0;break;case"NOT_CAPTURED":o="The Wayback Machine has no similarity data for ".concat(n," and year ").concat(u,"."),s=!0;break;case"NO_CAPTURES":o="The Wayback Machine has not archived ".concat(n," for year ").concat(u,"."),s=!1;break;case"NO_DIFFERENT_CAPTURES":o="There aren't any different captures for ".concat(n," for year ").concat(u," to display their similarity."),s=!1;break;case"_this4.errorHandled is not a function":case"NetworkError when attempting to fetch resource.":case"Load failed":o="The capture of ".concat(n," at ").concat(r," cannot be used for comparisons. Its possible it is a redirect."),s=!1}return k.createElement(k.Fragment,null,k.createElement("div",{className:"alert alert-warning",role:"alert"},o),s&&k.createElement("button",{className:"btn btn-sm",id:"calcButton",onClick:l},"Calculate now"),k.createElement("button",{className:"btn btn-sm",onClick:function(){return window.history.back()}},"« Go back"))};Ar.propTypes={code:C.string,url:C.string,timestamp:C.string,conf:C.object,errorHandledCallback:C.func};var Rr=function(e){i(o,k.Component);var r=l(o);function o(e){var n;return t(this,o),(n=r.call(this,e)).state={showDiff:!1,timestampA:n.props.timestampA,timestampB:n.props.timestampB},n._oneFrame=null,n.errorHandled=n.errorHandled.bind(u(n)),n.getTimestamps=n.getTimestamps.bind(u(n)),n.prepareDiffView=n.prepareDiffView.bind(u(n)),n}return n(o,[{key:"getTimestamps",value:function(t,e){(t||e)&&(t&&null==e?(e="",this.setState({fetchedRaw:null,error:null,showDiff:!0,timestampA:t})):e&&null==t?(t="",this.setState({fetchedRaw:null,error:null,showDiff:!0,timestampB:e})):this.setState({fetchedRaw:null,error:null,showDiff:!0,timestampA:t,timestampB:e}),t===this.state.timestampA&&e===this.state.timestampB||window.history.pushState({},"",this.props.conf.urlPrefix+t+"/"+e+"/"+this.props.url))}},{key:"errorHandled",value:function(t){this.setState({error:t})}},{key:"render",value:function(){return an(this.props.url)?this.state.error?k.createElement(Ar,{url:this.props.url,timestamp:this.state.timestampA,code:this.state.error}):this.state.timestampA||this.state.timestampB?this.state.timestampA&&this.state.timestampB?k.createElement("div",{className:"diffcontainer-view"},k.createElement(jr,a({},this.props,{getTimestampsCallback:this.getTimestamps,errorHandledCallback:this.errorHandled})),this.state.showDiff&&this.prepareDiffView(),k.createElement(Tr,null)):this.state.timestampA?k.createElement("div",{className:"diffcontainer-view"},k.createElement(jr,a({},this.props,{getTimestampsCallback:this.getTimestamps,errorHandledCallback:this.errorHandled})),this.state.showDiff&&this._showOneSnapshot(!0,this.state.timestampA)):this.state.timestampB?k.createElement("div",{className:"diffcontainer-view"},k.createElement(jr,a({},this.props,{errorHandledCallback:this.errorHandled,getTimestampsCallback:this.getTimestamps})),this.state.showDiff&&this._showOneSnapshot(!1,this.state.timestampB)):void 0:this.props.noTimestamps?k.createElement("div",{className:"diffcontainer-view"},k.createElement(jr,a({},this.props,{getTimestampsCallback:this.getTimestamps,errorHandledCallback:this.errorHandled})),this._showNoTimestamps()):k.createElement("div",{className:"diffcontainer-view"},k.createElement(jr,a({},this.props,{errorHandledCallback:this.errorHandled,getTimestampsCallback:this.getTimestamps}))):this._invalidURL()}},{key:"_showNoTimestamps",value:function(){return k.createElement("div",{className:"side-by-side-render"},k.createElement(Or,null),k.createElement(Or,null))}},{key:"_showOneSnapshot",value:function(t,e){var n=this;if(this.state.fetchedRaw)return t?k.createElement("div",{className:"side-by-side-render"},k.createElement("iframe",{height:window.innerHeight,onLoad:function(){n._handleHeight()},srcDoc:this.state.fetchedRaw,ref:function(t){n._oneFrame=t}}),k.createElement(Or,null)):k.createElement("div",{className:"side-by-side-render"},k.createElement(Or,null),k.createElement("iframe",{height:window.innerHeight,onLoad:function(){n._handleHeight()},srcDoc:this.state.fetchedRaw,ref:function(t){n._oneFrame=t}}));if(this.props.fetchSnapshotCallback)this._handleSnapshotFetch(this.props.fetchSnapshotCallback(e));else{var r=new URL(this.props.conf.snapshotsPrefix+e+"/"+encodeURIComponent(this.props.url),window.location.origin);this._handleSnapshotFetch(ln(r.toString()))}var a=function(){return tt(n.props.loader)?k.createElement(et,null):n.props.loader};return k.createElement("div",{className:"loading"},k.createElement(a,null))}},{key:"_handleSnapshotFetch",value:function(t){var e=this;t.then(un).then((function(t){var e=t.headers.get("content-type");return e&&e.includes("text/html")?t.text():"<iframe src="+t.url+' style="width: 98%; position: absolute; height: 98%;" />'})).then((function(t){e.setState({fetchedRaw:t})})).catch((function(t){e.errorHandled(t.message)}))}},{key:"prepareDiffView",value:function(){if(!this.state.error){var t=new URL(this.props.conf.snapshotsPrefix+this.state.timestampA+"/"+encodeURIComponent(this.props.url),window.location.origin),e=new URL(this.props.conf.snapshotsPrefix+this.state.timestampB+"/"+encodeURIComponent(this.props.url),window.location.origin),n=new URL(this.props.conf.webMonitoringProcessingURL,window.location.origin);return k.createElement(vn,{webMonitoringProcessingURL:n.toString(),page:{url:encodeURIComponent(this.props.url)},diffType:"SIDE_BY_SIDE_RENDERED",a:t,b:e,loader:this.props.loader,errorHandledCallback:this.errorHandled})}}},{key:"_handleHeight",value:function(){var t=this._oneFrame.contentDocument.documentElement.scrollHeight,e=this._oneFrame.contentDocument.documentElement.scrollWidth;t>.1*this._oneFrame.height?this._oneFrame.height=t+.01*t:this._oneFrame.height=.5*this._oneFrame.height,e>this._oneFrame.clientWidth&&(this._oneFrame.width=e)}},{key:"_invalidURL",value:function(){return k.createElement("div",{className:"alert alert-danger",role:"alert"},k.createElement("b",null,"Oh snap!")," Invalid URL ",this.props.url)}}]),o}();Rr.propTypes={url:C.string.isRequired,timestampA:C.string,timestampB:C.string,conf:C.object.isRequired,loader:C.element,fetchCDXCallback:C.func,fetchSnapshotCallback:C.func,noTimestamps:function(t,e,n){return t.noTimestamps&&"boolean"!=typeof t.noTimestamps?new Error("noTimestamps specified in '".concat(n," should be boolean'.")):t.noTimestamps||t.timestampA||t.timestampB?void 0:new Error("At least one of props 'timestampA' or 'timestampB' or noTimestamps must be specified in '".concat(n,"'."))}};var Nr={value:()=>{}};function Dr(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Pr(r)}function Pr(t){this._=t}function Mr(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function $r(t,e,n){for(var r=0,a=t.length;r<a;++r)if(t[r].name===e){t[r]=Nr,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Pr.prototype=Dr.prototype={constructor:Pr,on:function(t,e){var n,r,a=this._,i=(r=a,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),o=-1,s=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=i[o]).type)a[n]=$r(a[n],t.name,e);else if(null==e)for(n in a)a[n]=$r(a[n],t.name,null);return this}for(;++o<s;)if((n=(t=i[o]).type)&&(n=Mr(a[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Pr(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var Ir="http://www.w3.org/1999/xhtml",Lr={svg:"http://www.w3.org/2000/svg",xhtml:Ir,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Hr(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Lr.hasOwnProperty(e)?{space:Lr[e],local:t}:t}function Br(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ir&&e.documentElement.namespaceURI===Ir?e.createElement(t):e.createElementNS(n,t)}}function Ur(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fr(t){var e=Hr(t);return(e.local?Ur:Br)(e)}function zr(){}function qr(t){return null==t?zr:function(){return this.querySelector(t)}}function Vr(){return[]}function Yr(t){return null==t?Vr:function(){return this.querySelectorAll(t)}}function Wr(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}function Xr(t){return function(){return this.matches(t)}}function Gr(t){return function(e){return e.matches(t)}}var Jr=Array.prototype.find;function Kr(){return this.firstElementChild}var Zr=Array.prototype.filter;function Qr(){return Array.from(this.children)}function ta(t){return new Array(t.length)}function ea(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function na(t,e,n,r,a,i){for(var o,s=0,u=e.length,l=i.length;s<l;++s)(o=e[s])?(o.__data__=i[s],r[s]=o):n[s]=new ea(t,i[s]);for(;s<u;++s)(o=e[s])&&(a[s]=o)}function ra(t,e,n,r,a,i,o){var s,u,l,c=new Map,f=e.length,p=i.length,h=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(h[s]=l=o.call(u,u.__data__,s,e)+"",c.has(l)?a[s]=u:c.set(l,u));for(s=0;s<p;++s)l=o.call(t,i[s],s,i)+"",(u=c.get(l))?(r[s]=u,u.__data__=i[s],c.delete(l)):n[s]=new ea(t,i[s]);for(s=0;s<f;++s)(u=e[s])&&c.get(h[s])===u&&(a[s]=u)}function aa(t){return t.__data__}function ia(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function oa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function sa(t){return function(){this.removeAttribute(t)}}function ua(t){return function(){this.removeAttributeNS(t.space,t.local)}}function la(t,e){return function(){this.setAttribute(t,e)}}function ca(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function fa(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function pa(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ha(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function da(t){return function(){this.style.removeProperty(t)}}function ma(t,e,n){return function(){this.style.setProperty(t,e,n)}}function va(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ya(t,e){return t.style.getPropertyValue(e)||ha(t).getComputedStyle(t,null).getPropertyValue(e)}function ga(t){return function(){delete this[t]}}function ba(t,e){return function(){this[t]=e}}function _a(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function wa(t){return t.trim().split(/^|\s+/)}function xa(t){return t.classList||new Ea(t)}function Ea(t){this._node=t,this._names=wa(t.getAttribute("class")||"")}function Sa(t,e){for(var n=xa(t),r=-1,a=e.length;++r<a;)n.add(e[r])}function ka(t,e){for(var n=xa(t),r=-1,a=e.length;++r<a;)n.remove(e[r])}function Ca(t){return function(){Sa(this,t)}}function ja(t){return function(){ka(this,t)}}function Ta(t,e){return function(){(e.apply(this,arguments)?Sa:ka)(this,t)}}function Oa(){this.textContent=""}function Aa(t){return function(){this.textContent=t}}function Ra(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Na(){this.innerHTML=""}function Da(t){return function(){this.innerHTML=t}}function Pa(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ma(){this.nextSibling&&this.parentNode.appendChild(this)}function $a(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ia(){return null}function La(){var t=this.parentNode;t&&t.removeChild(this)}function Ha(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ba(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ua(t){return function(){var e=this.__on;if(e){for(var n,r=0,a=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++a]=n:this.removeEventListener(n.type,n.listener,n.options);++a?e.length=a:delete this.__on}}}function Fa(t,e,n){return function(){var r,a=this.__on,i=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(a)for(var o=0,s=a.length;o<s;++o)if((r=a[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=e);this.addEventListener(t.type,i,n),r={type:t.type,name:t.name,value:e,listener:i,options:n},a?a.push(r):this.__on=[r]}}function za(t,e,n){var r=ha(t),a=r.CustomEvent;"function"==typeof a?a=new a(e,n):(a=r.document.createEvent("Event"),n?(a.initEvent(e,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function qa(t,e){return function(){return za(this,t,e)}}function Va(t,e){return function(){return za(this,t,e.apply(this,arguments))}}ea.prototype={constructor:ea,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},Ea.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ya=[null];function Wa(t,e){this._groups=t,this._parents=e}function Xa(){return new Wa([[document.documentElement]],Ya)}function Ga(t){return"string"==typeof t?new Wa([[document.querySelector(t)]],[document.documentElement]):new Wa([[t]],Ya)}function Ja(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ka(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Za(){}Wa.prototype=Xa.prototype={constructor:Wa,select:function(t){"function"!=typeof t&&(t=qr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o,s=e[a],u=s.length,l=r[a]=new Array(u),c=0;c<u;++c)(i=s[c])&&(o=t.call(i,i.__data__,c,s))&&("__data__"in i&&(o.__data__=i.__data__),l[c]=o);return new Wa(r,this._parents)},selectAll:function(t){t="function"==typeof t?Wr(t):Yr(t);for(var e=this._groups,n=e.length,r=[],a=[],i=0;i<n;++i)for(var o,s=e[i],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(t.call(o,o.__data__,l,s)),a.push(o));return new Wa(r,a)},selectChild:function(t){return this.select(null==t?Kr:function(t){return function(){return Jr.call(this.children,t)}}("function"==typeof t?t:Gr(t)))},selectChildren:function(t){return this.selectAll(null==t?Qr:function(t){return function(){return Zr.call(this.children,t)}}("function"==typeof t?t:Gr(t)))},filter:function(t){"function"!=typeof t&&(t=Xr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],s=o.length,u=r[a]=[],l=0;l<s;++l)(i=o[l])&&t.call(i,i.__data__,l,o)&&u.push(i);return new Wa(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,aa);var n,r=e?ra:na,a=this._parents,i=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=i.length,s=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var f=a[c],p=i[c],h=p.length,d=ia(t.call(f,f&&f.__data__,c,a)),m=d.length,v=u[c]=new Array(m),y=s[c]=new Array(m);r(f,p,v,y,l[c]=new Array(h),d,e);for(var g,b,_=0,w=0;_<m;++_)if(g=v[_]){for(_>=w&&(w=_+1);!(b=y[w])&&++w<m;);g._next=b||null}}return(s=new Wa(s,a))._enter=u,s._exit=l,s},enter:function(){return new Wa(this._enter||this._groups.map(ta),this._parents)},exit:function(){return new Wa(this._exit||this._groups.map(ta),this._parents)},join:function(t,e,n){var r=this.enter(),a=this,i=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(a=e(a))&&(a=a.selection()),null==n?i.remove():n(i),r&&a?r.merge(a).order():a},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,a=n.length,i=r.length,o=Math.min(a,i),s=new Array(a),u=0;u<o;++u)for(var l,c=n[u],f=r[u],p=c.length,h=s[u]=new Array(p),d=0;d<p;++d)(l=c[d]||f[d])&&(h[d]=l);for(;u<a;++u)s[u]=n[u];return new Wa(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,a=t[e],i=a.length-1,o=a[i];--i>=0;)(r=a[i])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=oa);for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o,s=n[i],u=s.length,l=a[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(e)}return new Wa(a,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a,i=e[n],o=0,s=i.length;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this},attr:function(t,e){var n=Hr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ua:sa:"function"==typeof e?n.local?pa:fa:n.local?ca:la)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?da:"function"==typeof e?va:ma)(t,e,null==n?"":n)):ya(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ga:"function"==typeof e?_a:ba)(t,e)):this.node()[t]},classed:function(t,e){var n=wa(t+"");if(arguments.length<2){for(var r=xa(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each(("function"==typeof e?Ta:e?Ca:ja)(n,e))},text:function(t){return arguments.length?this.each(null==t?Oa:("function"==typeof t?Ra:Aa)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Na:("function"==typeof t?Pa:Da)(t)):this.node().innerHTML},raise:function(){return this.each(Ma)},lower:function(){return this.each($a)},append:function(t){var e="function"==typeof t?t:Fr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Fr(t),r=null==e?Ia:"function"==typeof e?e:qr(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(La)},clone:function(t){return this.select(t?Ba:Ha)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,a,i=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),o=i.length;if(!(arguments.length<2)){for(s=e?Fa:Ua,r=0;r<o;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?Va:qa)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,a=t[e],i=0,o=a.length;i<o;++i)(r=a[i])&&(yield r)}};var Qa=.7,ti=1/Qa,ei="\\s*([+-]?\\d+)\\s*",ni="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ri="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ai=/^#([0-9a-f]{3,8})$/,ii=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),oi=new RegExp(`^rgb\\(${ri},${ri},${ri}\\)$`),si=new RegExp(`^rgba\\(${ei},${ei},${ei},${ni}\\)$`),ui=new RegExp(`^rgba\\(${ri},${ri},${ri},${ni}\\)$`),li=new RegExp(`^hsl\\(${ni},${ri},${ri}\\)$`),ci=new RegExp(`^hsla\\(${ni},${ri},${ri},${ni}\\)$`),fi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pi(){return this.rgb().formatHex()}function hi(){return this.rgb().formatRgb()}function di(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ai.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?mi(e):3===n?new gi(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?vi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?vi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ii.exec(t))?new gi(e[1],e[2],e[3],1):(e=oi.exec(t))?new gi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=si.exec(t))?vi(e[1],e[2],e[3],e[4]):(e=ui.exec(t))?vi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=li.exec(t))?Si(e[1],e[2]/100,e[3]/100,1):(e=ci.exec(t))?Si(e[1],e[2]/100,e[3]/100,e[4]):fi.hasOwnProperty(t)?mi(fi[t]):"transparent"===t?new gi(NaN,NaN,NaN,0):null}function mi(t){return new gi(t>>16&255,t>>8&255,255&t,1)}function vi(t,e,n,r){return r<=0&&(t=e=n=NaN),new gi(t,e,n,r)}function yi(t,e,n,r){return 1===arguments.length?((a=t)instanceof Za||(a=di(a)),a?new gi((a=a.rgb()).r,a.g,a.b,a.opacity):new gi):new gi(t,e,n,null==r?1:r);var a}function gi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function bi(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}`}function _i(){const t=wi(this.opacity);return`${1===t?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${1===t?")":`, ${t})`}`}function wi(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function xi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ei(t){return((t=xi(t))<16?"0":"")+t.toString(16)}function Si(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ci(t,e,n,r)}function ki(t){if(t instanceof Ci)return new Ci(t.h,t.s,t.l,t.opacity);if(t instanceof Za||(t=di(t)),!t)return new Ci;if(t instanceof Ci)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),i=Math.max(e,n,r),o=NaN,s=i-a,u=(i+a)/2;return s?(o=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new Ci(o,s,u,t.opacity)}function Ci(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ji(t){return(t=(t||0)%360)<0?t+360:t}function Ti(t){return Math.max(0,Math.min(1,t||0))}function Oi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ja(Za,di,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:pi,formatHex:pi,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ki(this).formatHsl()},formatRgb:hi,toString:hi}),Ja(gi,yi,Ka(Za,{brighter(t){return t=null==t?ti:Math.pow(ti,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Qa:Math.pow(Qa,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gi(xi(this.r),xi(this.g),xi(this.b),wi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bi,formatHex:bi,formatHex8:function(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}${Ei(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:_i,toString:_i})),Ja(Ci,(function(t,e,n,r){return 1===arguments.length?ki(t):new Ci(t,e,n,null==r?1:r)}),Ka(Za,{brighter(t){return t=null==t?ti:Math.pow(ti,t),new Ci(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Qa:Math.pow(Qa,t),new Ci(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new gi(Oi(t>=240?t-240:t+120,a,r),Oi(t,a,r),Oi(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new Ci(ji(this.h),Ti(this.s),Ti(this.l),wi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=wi(this.opacity);return`${1===t?"hsl(":"hsla("}${ji(this.h)}, ${100*Ti(this.s)}%, ${100*Ti(this.l)}%${1===t?")":`, ${t})`}`}}));var Ai=t=>()=>t;function Ri(t){return 1==(t=+t)?Ni:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ai(isNaN(e)?n:e)}}function Ni(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Ai(isNaN(t)?e:t)}var Di=function t(e){var n=Ri(e);function r(t,e){var r=n((t=yi(t)).r,(e=yi(e)).r),a=n(t.g,e.g),i=n(t.b,e.b),o=Ni(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=a(e),t.b=i(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Pi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Mi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$i=new RegExp(Mi.source,"g");function Ii(t,e){var n,r,a,i=Mi.lastIndex=$i.lastIndex=0,o=-1,s=[],u=[];for(t+="",e+="";(n=Mi.exec(t))&&(r=$i.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:Pi(n,r)})),i=$i.lastIndex;return i<e.length&&(a=e.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}var Li,Hi=180/Math.PI,Bi={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ui(t,e,n,r,a,i){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(e,t)*Hi,skewX:Math.atan(u)*Hi,scaleX:o,scaleY:s}}function Fi(t,e,n,r){function a(t){return t.length?t.pop()+" ":""}return function(i,o){var s=[],u=[];return i=t(i),o=t(o),function(t,r,a,i,o,s){if(t!==a||r!==i){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:Pi(t,a)},{i:u-2,x:Pi(r,i)})}else(a||i)&&o.push("translate("+a+e+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,s,u),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(a(n)+"rotate(",null,r)-2,x:Pi(t,e)})):e&&n.push(a(n)+"rotate("+e+r)}(i.rotate,o.rotate,s,u),function(t,e,n,i){t!==e?i.push({i:n.push(a(n)+"skewX(",null,r)-2,x:Pi(t,e)}):e&&n.push(a(n)+"skewX("+e+r)}(i.skewX,o.skewX,s,u),function(t,e,n,r,i,o){if(t!==n||e!==r){var s=i.push(a(i)+"scale(",null,",",null,")");o.push({i:s-4,x:Pi(t,n)},{i:s-2,x:Pi(e,r)})}else 1===n&&1===r||i.push(a(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,s,u),i=o=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var zi,qi,Vi=Fi((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Bi:Ui(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Yi=Fi((function(t){return null==t?Bi:(Li||(Li=document.createElementNS("http://www.w3.org/2000/svg","g")),Li.setAttribute("transform",t),(t=Li.transform.baseVal.consolidate())?Ui((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Bi)}),", ",")",")"),Wi=0,Xi=0,Gi=0,Ji=1e3,Ki=0,Zi=0,Qi=0,to="object"==typeof performance&&performance.now?performance:Date,eo="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function no(){return Zi||(eo(ro),Zi=to.now()+Qi)}function ro(){Zi=0}function ao(){this._call=this._time=this._next=null}function io(t,e,n){var r=new ao;return r.restart(t,e,n),r}function oo(){Zi=(Ki=to.now())+Qi,Wi=Xi=0;try{!function(){no(),++Wi;for(var t,e=zi;e;)(t=Zi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Wi}()}finally{Wi=0,function(){var t,e,n=zi,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:zi=e);qi=t,uo(r)}(),Zi=0}}function so(){var t=to.now(),e=t-Ki;e>Ji&&(Qi-=e,Ki=t)}function uo(t){Wi||(Xi&&(Xi=clearTimeout(Xi)),t-Zi>24?(t<1/0&&(Xi=setTimeout(oo,t-to.now()-Qi)),Gi&&(Gi=clearInterval(Gi))):(Gi||(Ki=to.now(),Gi=setInterval(so,Ji)),Wi=1,eo(oo)))}function lo(t,e,n){var r=new ao;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}ao.prototype=io.prototype={constructor:ao,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?no():+n)+(null==e?0:+e),this._next||qi===this||(qi?qi._next=this:zi=this,qi=this),this._call=t,this._time=n,uo()},stop:function(){this._call&&(this._call=null,this._time=1/0,uo())}};var co=Dr("start","end","cancel","interrupt"),fo=[],po=0,ho=1,mo=2,vo=3,yo=4,go=5,bo=6;function _o(t,e,n,r,a,i){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(t,e,n){var r,a=t.__transition;function i(t){n.state=ho,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(i){var l,c,f,p;if(n.state!==ho)return u();for(l in a)if((p=a[l]).name===n.name){if(p.state===vo)return lo(o);p.state===yo?(p.state=bo,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete a[l]):+l<e&&(p.state=bo,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete a[l])}if(lo((function(){n.state===vo&&(n.state=yo,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=mo,n.on.call("start",t,t.__data__,n.index,n.group),n.state===mo){for(n.state=vo,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(p=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=p);r.length=c+1}}function s(e){for(var a=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=go,1),i=-1,o=r.length;++i<o;)r[i].call(t,a);n.state===go&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=bo,n.timer.stop(),delete a[e],a)return;delete t.__transition}a[e]=n,n.timer=io(i,0,n.time)}(t,n,{name:e,index:r,group:a,on:co,tween:fo,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:po})}function wo(t,e){var n=Eo(t,e);if(n.state>po)throw new Error("too late; already scheduled");return n}function xo(t,e){var n=Eo(t,e);if(n.state>vo)throw new Error("too late; already running");return n}function Eo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function So(t,e){var n,r;return function(){var a=xo(this,t),i=a.tween;if(i!==n)for(var o=0,s=(r=n=i).length;o<s;++o)if(r[o].name===e){(r=r.slice()).splice(o,1);break}a.tween=r}}function ko(t,e,n){var r,a;if("function"!=typeof n)throw new Error;return function(){var i=xo(this,t),o=i.tween;if(o!==r){a=(r=o).slice();for(var s={name:e,value:n},u=0,l=a.length;u<l;++u)if(a[u].name===e){a[u]=s;break}u===l&&a.push(s)}i.tween=a}}function Co(t,e,n){var r=t._id;return t.each((function(){var t=xo(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Eo(t,r).value[e]}}function jo(t,e){var n;return("number"==typeof e?Pi:e instanceof di?Di:(n=di(e))?(e=n,Di):Ii)(t,e)}function To(t){return function(){this.removeAttribute(t)}}function Oo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ao(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Ro(t,e,n){var r,a,i=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function No(t,e,n){var r,a,i;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttribute(t))===(s=u+"")?null:o===r&&s===a?i:(a=s,i=e(r=o,u));this.removeAttribute(t)}}function Do(t,e,n){var r,a,i;return function(){var o,s,u=n(this);if(null!=u)return(o=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:o===r&&s===a?i:(a=s,i=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}function Po(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,a)),n}return a._value=e,a}function Mo(t,e){var n,r;function a(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,a)),n}return a._value=e,a}function $o(t,e){return function(){wo(this,t).delay=+e.apply(this,arguments)}}function Io(t,e){return e=+e,function(){wo(this,t).delay=e}}function Lo(t,e){return function(){xo(this,t).duration=+e.apply(this,arguments)}}function Ho(t,e){return e=+e,function(){xo(this,t).duration=e}}var Bo=Xa.prototype.constructor;function Uo(t){return function(){this.style.removeProperty(t)}}var Fo=0;function zo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qo(){return++Fo}var Vo=Xa.prototype;zo.prototype={constructor:zo,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=qr(t));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var s,u,l=r[o],c=l.length,f=i[o]=new Array(c),p=0;p<c;++p)(s=l[p])&&(u=t.call(s,s.__data__,p,l))&&("__data__"in s&&(u.__data__=s.__data__),f[p]=u,_o(f[p],e,n,p,f,Eo(s,n)));return new zo(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Yr(t));for(var r=this._groups,a=r.length,i=[],o=[],s=0;s<a;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var p,h=t.call(u,u.__data__,f,l),d=Eo(u,n),m=0,v=h.length;m<v;++m)(p=h[m])&&_o(p,e,n,m,h,d);i.push(h),o.push(u)}return new zo(i,o,e,n)},selectChild:Vo.selectChild,selectChildren:Vo.selectChildren,filter:function(t){"function"!=typeof t&&(t=Xr(t));for(var e=this._groups,n=e.length,r=new Array(n),a=0;a<n;++a)for(var i,o=e[a],s=o.length,u=r[a]=[],l=0;l<s;++l)(i=o[l])&&t.call(i,i.__data__,l,o)&&u.push(i);return new zo(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,a=n.length,i=Math.min(r,a),o=new Array(r),s=0;s<i;++s)for(var u,l=e[s],c=n[s],f=l.length,p=o[s]=new Array(f),h=0;h<f;++h)(u=l[h]||c[h])&&(p[h]=u);for(;s<r;++s)o[s]=e[s];return new zo(o,this._parents,this._name,this._id)},selection:function(){return new Bo(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=qo(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=Eo(o,e);_o(o,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zo(r,this._parents,t,n)},call:Vo.call,nodes:Vo.nodes,node:Vo.node,size:Vo.size,empty:Vo.empty,each:Vo.each,on:function(t,e){var n=this._id;return arguments.length<2?Eo(this.node(),n).on.on(t):this.each(function(t,e,n){var r,a,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?wo:xo;return function(){var o=i(this,t),s=o.on;s!==r&&(a=(r=s).copy()).on(e,n),o.on=a}}(n,t,e))},attr:function(t,e){var n=Hr(t),r="transform"===n?Yi:jo;return this.attrTween(t,"function"==typeof e?(n.local?Do:No)(n,r,Co(this,"attr."+t,e)):null==e?(n.local?Oo:To)(n):(n.local?Ro:Ao)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Hr(t);return this.tween(n,(r.local?Po:Mo)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Vi:jo;return null==e?this.styleTween(t,function(t,e){var n,r,a;return function(){var i=ya(this,t),o=(this.style.removeProperty(t),ya(this,t));return i===o?null:i===n&&o===r?a:a=e(n=i,r=o)}}(t,r)).on("end.style."+t,Uo(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,a,i;return function(){var o=ya(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=ya(this,t)),o===u?null:o===r&&u===a?i:(a=u,i=e(r=o,s))}}(t,r,Co(this,"style."+t,e))).each(function(t,e){var n,r,a,i,o="style."+e,s="end."+o;return function(){var u=xo(this,t),l=u.on,c=null==u.value[o]?i||(i=Uo(e)):void 0;l===n&&a===c||(r=(n=l).copy()).on(s,a=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,a,i=n+"";return function(){var o=ya(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,a;function i(){var i=e.apply(this,arguments);return i!==a&&(r=(a=i)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,i,n)),r}return i._value=e,i}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Co(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,a=Eo(this.node(),n).tween,i=0,o=a.length;i<o;++i)if((r=a[i]).name===t)return r.value;return null}return this.each((null==e?So:ko)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?$o:Io)(e,t)):Eo(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Lo:Ho)(e,t)):Eo(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){xo(this,t).ease=e}}(e,t)):Eo(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;xo(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,a=n.size();return new Promise((function(i,o){var s={value:o},u={value:function(){0==--a&&i()}};n.each((function(){var n=xo(this,r),a=n.on;a!==t&&((e=(t=a).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===a&&i()}))},[Symbol.iterator]:Vo[Symbol.iterator]};var Yo={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Wo(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Xa.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,a,i=t.__transition,o=!0;if(i){for(a in e=null==e?null:e+"",i)(n=i[a]).name===e?(r=n.state>mo&&n.state<go,n.state=bo,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[a]):o=!1;o&&delete t.__transition}}(this,t)}))},Xa.prototype.transition=function(t){var e,n;t instanceof zo?(e=t._id,t=t._name):(e=qo(),(n=Yo).time=no(),t=null==t?null:t+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o,s=r[i],u=s.length,l=0;l<u;++l)(o=s[l])&&_o(o,t,e,l,s,n||Wo(o,e));return new zo(r,this._parents,t,e)};const Xo=Math.PI,Go=2*Xo,Jo=1e-6,Ko=Go-Jo;function Zo(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}class Qo{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==t?Zo:function(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Zo;const n=10**e;return function(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=Math.round(arguments[e]*n)/n+t[e]}}(t)}moveTo(t,e){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,e){this._append`L${this._x1=+t},${this._y1=+e}`}quadraticCurveTo(t,e,n,r){this._append`Q${+t},${+e},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(t,e,n,r,a,i){this._append`C${+t},${+e},${+n},${+r},${this._x1=+a},${this._y1=+i}`}arcTo(t,e,n,r,a){if(t=+t,e=+e,n=+n,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let i=this._x1,o=this._y1,s=n-t,u=r-e,l=i-t,c=o-e,f=l*l+c*c;if(null===this._x1)this._append`M${this._x1=t},${this._y1=e}`;else if(f>Jo)if(Math.abs(c*s-u*l)>Jo&&a){let p=n-i,h=r-o,d=s*s+u*u,m=p*p+h*h,v=Math.sqrt(d),y=Math.sqrt(f),g=a*Math.tan((Xo-Math.acos((d+f-m)/(2*v*y)))/2),b=g/y,_=g/v;Math.abs(b-1)>Jo&&this._append`L${t+b*l},${e+b*c}`,this._append`A${a},${a},0,0,${+(c*p>l*h)},${this._x1=t+_*s},${this._y1=e+_*u}`}else this._append`L${this._x1=t},${this._y1=e}`;else;}arc(t,e,n,r,a,i){if(t=+t,e=+e,i=!!i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),u=t+o,l=e+s,c=1^i,f=i?r-a:a-r;null===this._x1?this._append`M${u},${l}`:(Math.abs(this._x1-u)>Jo||Math.abs(this._y1-l)>Jo)&&this._append`L${u},${l}`,n&&(f<0&&(f=f%Go+Go),f>Ko?this._append`A${n},${n},0,1,${c},${t-o},${e-s}A${n},${n},0,1,${c},${this._x1=u},${this._y1=l}`:f>Jo&&this._append`A${n},${n},0,${+(f>=Xo)},${c},${this._x1=t+n*Math.cos(a)},${this._y1=e+n*Math.sin(a)}`)}rect(t,e,n,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function ts(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function es(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=rs)):void 0===e&&(e=ns);for(var n,r,a,i,o,s=new os(t),u=[s];n=u.pop();)if((a=e(n.data))&&(o=(a=Array.from(a)).length))for(n.children=a,i=o-1;i>=0;--i)u.push(r=a[i]=new os(a[i])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(is)}function ns(t){return t.children}function rs(t){return Array.isArray(t)?t[1]:null}function as(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function is(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function os(t){this.data=t,this.depth=this.height=0,this.parent=null}function ss(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function us(){var t=1,e=1,n=0,r=!1;function a(a){var i=a.height+1;return a.x0=a.y0=n,a.x1=t,a.y1=e/i,a.eachBefore(function(t,e){return function(r){r.children&&function(t,e,n,r,a){for(var i,o=t.children,s=-1,u=o.length,l=t.value&&(r-e)/t.value;++s<u;)(i=o[s]).y0=n,i.y1=a,i.x0=e,i.x1=e+=i.value*l}(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var a=r.x0,i=r.y0,o=r.x1-n,s=r.y1-n;o<a&&(a=o=(a+o)/2),s<i&&(i=s=(i+s)/2),r.x0=a,r.y0=i,r.x1=o,r.y1=s}}(e,i)),r&&a.eachBefore(ss),a}return a.round=function(t){return arguments.length?(r=!!t,a):r},a.size=function(n){return arguments.length?(t=+n[0],e=+n[1],a):[t,e]},a.padding=function(t){return arguments.length?(n=+t,a):n},a}function ls(t){return function(){return t}}os.prototype=es.prototype={constructor:os,count:function(){return this.eachAfter(ts)},each:function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},eachAfter:function(t,e){for(var n,r,a,i=this,o=[i],s=[],u=-1;i=o.pop();)if(s.push(i),n=i.children)for(r=0,a=n.length;r<a;++r)o.push(n[r]);for(;i=s.pop();)t.call(e,i,++u,this);return this},eachBefore:function(t,e){for(var n,r,a=this,i=[a],o=-1;a=i.pop();)if(t.call(e,a,++o,this),n=a.children)for(r=n.length-1;r>=0;--r)i.push(n[r]);return this},find:function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,a=r&&r.length;--a>=0;)n+=r[a].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),a=null;t=n.pop(),e=r.pop();for(;t===e;)a=t,t=n.pop(),e=r.pop();return a}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var a=r.length;t!==n;)r.splice(a,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return es(this).eachBefore(as)},[Symbol.iterator]:function*(){var t,e,n,r,a=this,i=[a];do{for(t=i.reverse(),i=[];a=t.pop();)if(yield a,e=a.children)for(n=0,r=e.length;n<r;++n)i.push(e[n])}while(i.length)}};const cs=Math.abs,fs=Math.atan2,ps=Math.cos,hs=Math.max,ds=Math.min,ms=Math.sin,vs=Math.sqrt,ys=1e-12,gs=Math.PI,bs=gs/2,_s=2*gs;function ws(t){return t>=1?bs:t<=-1?-bs:Math.asin(t)}function xs(t){return t.innerRadius}function Es(t){return t.outerRadius}function Ss(t){return t.startAngle}function ks(t){return t.endAngle}function Cs(t){return t&&t.padAngle}function js(t,e,n,r,a,i,o){var s=t-n,u=e-r,l=(o?i:-i)/vs(s*s+u*u),c=l*u,f=-l*s,p=t+c,h=e+f,d=n+c,m=r+f,v=(p+d)/2,y=(h+m)/2,g=d-p,b=m-h,_=g*g+b*b,w=a-i,x=p*m-d*h,E=(b<0?-1:1)*vs(hs(0,w*w*_-x*x)),S=(x*b-g*E)/_,k=(-x*g-b*E)/_,C=(x*b+g*E)/_,j=(-x*g+b*E)/_,T=S-v,O=k-y,A=C-v,R=j-y;return T*T+O*O>A*A+R*R&&(S=C,k=j),{cx:S,cy:k,x01:-c,y01:-f,x11:S*(a/w-1),y11:k*(a/w-1)}}function Ts(){var t=xs,e=Es,n=ls(0),r=null,a=Ss,i=ks,o=Cs,s=null,u=function(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(null==n)e=null;else{const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);e=t}return t},()=>new Qo(e)}(l);function l(){var l,c,f,p=+t.apply(this,arguments),h=+e.apply(this,arguments),d=a.apply(this,arguments)-bs,m=i.apply(this,arguments)-bs,v=cs(m-d),y=m>d;if(s||(s=l=u()),h<p&&(c=h,h=p,p=c),h>ys)if(v>_s-ys)s.moveTo(h*ps(d),h*ms(d)),s.arc(0,0,h,d,m,!y),p>ys&&(s.moveTo(p*ps(m),p*ms(m)),s.arc(0,0,p,m,d,y));else{var g,b,_=d,w=m,x=d,E=m,S=v,k=v,C=o.apply(this,arguments)/2,j=C>ys&&(r?+r.apply(this,arguments):vs(p*p+h*h)),T=ds(cs(h-p)/2,+n.apply(this,arguments)),O=T,A=T;if(j>ys){var R=ws(j/p*ms(C)),N=ws(j/h*ms(C));(S-=2*R)>ys?(x+=R*=y?1:-1,E-=R):(S=0,x=E=(d+m)/2),(k-=2*N)>ys?(_+=N*=y?1:-1,w-=N):(k=0,_=w=(d+m)/2)}var D=h*ps(_),P=h*ms(_),M=p*ps(E),$=p*ms(E);if(T>ys){var I,L=h*ps(w),H=h*ms(w),B=p*ps(x),U=p*ms(x);if(v<gs)if(I=function(t,e,n,r,a,i,o,s){var u=n-t,l=r-e,c=o-a,f=s-i,p=f*u-c*l;if(!(p*p<ys))return[t+(p=(c*(e-i)-f*(t-a))/p)*u,e+p*l]}(D,P,B,U,L,H,M,$)){var F=D-I[0],z=P-I[1],q=L-I[0],V=H-I[1],Y=1/ms(((f=(F*q+z*V)/(vs(F*F+z*z)*vs(q*q+V*V)))>1?0:f<-1?gs:Math.acos(f))/2),W=vs(I[0]*I[0]+I[1]*I[1]);O=ds(T,(p-W)/(Y-1)),A=ds(T,(h-W)/(Y+1))}else O=A=0}k>ys?A>ys?(g=js(B,U,D,P,h,A,y),b=js(L,H,M,$,h,A,y),s.moveTo(g.cx+g.x01,g.cy+g.y01),A<T?s.arc(g.cx,g.cy,A,fs(g.y01,g.x01),fs(b.y01,b.x01),!y):(s.arc(g.cx,g.cy,A,fs(g.y01,g.x01),fs(g.y11,g.x11),!y),s.arc(0,0,h,fs(g.cy+g.y11,g.cx+g.x11),fs(b.cy+b.y11,b.cx+b.x11),!y),s.arc(b.cx,b.cy,A,fs(b.y11,b.x11),fs(b.y01,b.x01),!y))):(s.moveTo(D,P),s.arc(0,0,h,_,w,!y)):s.moveTo(D,P),p>ys&&S>ys?O>ys?(g=js(M,$,L,H,p,-O,y),b=js(D,P,B,U,p,-O,y),s.lineTo(g.cx+g.x01,g.cy+g.y01),O<T?s.arc(g.cx,g.cy,O,fs(g.y01,g.x01),fs(b.y01,b.x01),!y):(s.arc(g.cx,g.cy,O,fs(g.y01,g.x01),fs(g.y11,g.x11),!y),s.arc(0,0,p,fs(g.cy+g.y11,g.cx+g.x11),fs(b.cy+b.y11,b.cx+b.x11),y),s.arc(b.cx,b.cy,O,fs(b.y11,b.x11),fs(b.y01,b.x01),!y))):s.arc(0,0,p,E,x,y):s.lineTo(M,$)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-gs/2;return[ps(r)*n,ms(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:ls(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:ls(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:ls(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:ls(+t),l):r},l.startAngle=function(t){return arguments.length?(a="function"==typeof t?t:ls(+t),l):a},l.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:ls(+t),l):i},l.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:ls(+t),l):o},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function Os(t,e,n){this.k=t,this.x=e,this.y=n}Os.prototype={constructor:Os,scale:function(t){return 1===t?this:new Os(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Os(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},Os.prototype;var As=/\s/;var Rs=function(t){for(var e=t.length;e--&&As.test(t.charAt(e)););return e},Ns=/^\s+/;var Ds=function(t){return t?t.slice(0,Rs(t)+1).replace(Ns,""):t},Ps=Jt,Ms=Lt,$s=NaN,Is=/^[-+]0x[0-9a-f]+$/i,Ls=/^0b[01]+$/i,Hs=/^0o[0-7]+$/i,Bs=parseInt;var Us=function(t){if("number"==typeof t)return t;if(Ms(t))return $s;if(Ps(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Ps(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ds(t);var n=Ls.test(t);return n||Hs.test(t)?Bs(t.slice(2),n?2:8):Is.test(t)?$s:+t},Fs=Us,zs=1/0,qs=17976931348623157e292;var Vs=function(t){return t?(t=Fs(t))===zs||t===-zs?(t<0?-1:1)*qs:t==t?t:0:0===t?t:0};var Ys=function(t){var e=Vs(t),n=e%1;return e==e?n?e-n:e:0},Ws=He,Xs=tr,Gs=Lt,Js=1/0,Ks=_t?_t.prototype:void 0,Zs=Ks?Ks.toString:void 0;var Qs=function t(e){if("string"==typeof e)return e;if(Xs(e))return Ws(e,t)+"";if(Gs(e))return Zs?Zs.call(e):"";var n=e+"";return"0"==n&&1/e==-Js?"-0":n},tu=Qs;var eu=function(t){return null==t?"":tu(t)},nu=Ys,ru=Us,au=eu,iu=bt.isFinite,ou=Math.min;var su=function(t){var e=Math[t];return function(t,n){if(t=ru(t),(n=null==n?0:ou(nu(n),292))&&iu(t)){var r=(au(t)+"e").split("e"),a=e(r[0]+"e"+(+r[1]+n));return+((r=(au(a)+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}("round");function uu(){var t,e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;return function(t){var e=document.getElementById("root-cell-tooltip");e&&e.setAttribute("style","top:".concat(.4*t,"px; width:").concat(.4*t,"px; height:").concat(.22*t,"px; font-size: ").concat(.004*t,"em;"))}(t=n<e?.45*n:.45*e),t}function lu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.captures?t.captures:[e,t.simhash]}function cu(t){if(-1!==t.similarity)return"".concat(t.name," - Differences: ").concat(su(t.similarity,2),"%")}var fu=function(e){i(o,k.Component);var a=l(o);function o(e){var n;return t(this,o),r(u(n=a.call(this,e)),"state",{hint:""}),n.chartRef=k.createRef(),n}return n(o,[{key:"componentDidMount",value:function(){var t=uu(),e=uu(),n=Math.min(t,e)/2,r=Ga(this.chartRef.current).attr("width",t).attr("height",e).append("g").attr("transform","translate("+t/2+","+e/2+")"),a=us().size([2*Math.PI,n]),i=es(this.props.simhashData).sum((function(t){return 5}));a(i);var o=Ts().startAngle((function(t){return t.x0})).endAngle((function(t){return t.x1})).innerRadius((function(t){return t.y0})).outerRadius((function(t){return t.y1})),s=this;r.selectAll("path").data(i.descendants()).enter().append("path").attr("display",(function(t){return t.depth?null:"none"})).attr("d",o).style("stroke","#fff").style("fill",(function(t){return t.data.clr})).on("mouseover",(function(t,e){Ga(this).style("cursor","pointer").style("stroke","black"),s.setState({hint:cu(e.data)})})).on("mouseleave",(function(t,e){Ga(this).style("cursor","default").style("stroke",""),s.setState({hint:""})})).on("click",(function(t,e){if(e.data.timestamp!==s.props.simhashData.timestamp){var n=s.props.urlPrefix+e.data.timestamp+"/"+s.props.simhashData.timestamp+"/"+s.props.url;window.open(n,"_blank")}}))}},{key:"render",value:function(){return k.createElement(k.Fragment,null,k.createElement("p",{className:"text-center",style:{marginTop:"10px"}},this.state.hint,"  "),k.createElement("div",{className:"text-center"},k.createElement("svg",{ref:this.chartRef})))}}]),o}();r(fu,"propTypes",{simhashData:C.object,url:C.string,urlPrefix:C.string});var pu={};({get exports(){return pu},set exports(t){pu=t}}).exports=function(){function t(t){return t.slice().sort((function(t,e){return t-e}))}function e(t){for(var e,n=0,r=0;r<t.length;r++)0!==r&&t[r]===e||(e=t[r],n++);return n}function n(t,e){for(var n=[],r=0;r<t;r++){for(var a=[],i=0;i<e;i++)a.push(0);n.push(a)}return n}function r(t,e,n,r){var a;if(t>0){var i=(n[e]-n[t-1])/(e-t+1);a=r[e]-r[t-1]-(e-t+1)*i*i}else a=r[e]-n[e]*n[e]/(e+1);return a<0?0:a}function a(t,e,n,i,o,s,u){if(!(t>e)){var l=Math.floor((t+e)/2);i[n][l]=i[n-1][l-1],o[n][l]=l;var c=n;t>n&&(c=Math.max(c,o[n][t-1]||0)),c=Math.max(c,o[n-1][l]||0);var f,p,h,d=l-1;e<i.length-1&&(d=Math.min(d,o[n][e+1]||0));for(var m=d;m>=c&&!((f=r(m,l,s,u))+i[n-1][c-1]>=i[n][l]);--m)(p=r(c,l,s,u)+i[n-1][c-1])<i[n][l]&&(i[n][l]=p,o[n][l]=c),c++,(h=f+i[n-1][m-1])<i[n][l]&&(i[n][l]=h,o[n][l]=m);a(t,l-1,n,i,o,s,u),a(l+1,e,n,i,o,s,u)}}function i(t,e,n){for(var i=e[0].length,o=new Array(i),s=new Array(i),u=t[Math.floor(i/2)],l=0;l<i;++l)0===l?(o[0]=t[0]-u,s[0]=(t[0]-u)*(t[0]-u)):(o[l]=o[l-1]+t[l]-u,s[l]=s[l-1]+(t[l]-u)*(t[l]-u)),e[0][l]=r(0,l,o,s),n[0][l]=0;for(var c=1;c<e.length;++c)a(c<e.length-1?c:i-1,i-1,c,e,n,o,s)}function o(r,a){if(a>r.length)throw new Error("Cannot generate more classes than there are data values");var o=r.length,s=t(r),u=e(s);if(1===u)return[s];var l=n(a=Math.min(u,a),o),c=n(a,o);i(s,l,c);for(var f=[],p=c[0].length-1,h=c.length-1;h>=0;h--){var d=c[h][p];f[h]=s[d],h>0&&(p=d-1)}return f}var s=o;function u(){var t=!1,e=[],n=[],r=[],a=function(e){if(t){for(var a=r.length-1;a>=0;a--)if(e>=r[a])return n[a];return n[0]}};function i(){if(!(n.length<=2)){var a=s(e,Math.min(e.length,n.length));t=0!==a.length,r=[];for(var i=0;i<a.length;i++)r.push(a[i])}}return a.domain=function(){return arguments.length?(e=arguments[0],i(),a):e},a.range=function(){if(arguments.length){var t=arguments[0],e=t.length!==n.length;return n=t,e&&i(),a}return n},a.invertExtent=function(t){for(var e=NaN,a=NaN,i=0;i<n.length;i++)if(n[i]===t){e=r[i],a=i+1<n.length?r[i+1]:NaN;break}return[e,a]},a.clusters=function(){return r.slice(1)},a.export=function(){return{isReady:t,domain:e,range:n,breakpoints:r}},a.import=function(i){if(!i)throw new Error("Import requires parameters");return t=i.isReady,e=i.domain,n=i.range,r=i.breakpoints,a},a.copy=function(){return u().domain(e).range(n)},a}return"object"==typeof d3&&(d3.scaleCluster=u),u}();var hu=pu;Y(".heat-map-legend-bar {\n    width: 10px;\n    margin: 0 1px;\n    transition: height .2s;\n}\n\n.heat-map-legend-summary {\n    display: flex;\n    align-items: center;\n    height: 20px\n}\n\n.heat-map-legend {\n    align-self: flex-end;\n    display: flex;\n    align-items: baseline;\n    font-size: 12px;\n    float: right;\n}\n\n.heat-map-legend-summary-min-caption {\n    width: 32px;\n    text-align: right;\n}\n\n.heat-map-legend-caption {\n    margin: 0 8px;\n}\n\n.heat-map-legend-summary-graphics {\n    display: flex;\n    margin: 0 8px;\n    height: 20px;\n}\n\n.sunburst-container{\n    margin: auto;\n    width: 50%;\n}\n\n.rv-sunburst {\n    margin: 0 auto;\n}\n\n#calcButton {\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n}\n\n.rv-xy-plot__series, .rv-xy-plot__series--arc-path, .rv-sunburst__series--radial__arc {\n    cursor: pointer;\n}\n\n#root-cell-tooltip {\n    position: absolute;\n    display: inline-block;\n    margin: auto;\n    right: 0;\n    left: 0;\n    z-index: 10;\n    text-align: center;\n}\n\n.rv-hint {\n    z-index: 10;\n}\n");var du=function(t,e){for(var n=-1,r=e.length,a=t.length;++n<r;)t[a+n]=e[n];return t},mu=Qn,vu=tr,yu=_t?_t.isConcatSpreadable:void 0;var gu=du,bu=function(t){return vu(t)||mu(t)||!!(yu&&t&&t[yu])};var _u=function t(e,n,r,a,i){var o=-1,s=e.length;for(r||(r=bu),i||(i=[]);++o<s;){var u=e[o];n>0&&r(u)?n>1?t(u,n-1,r,a,i):gu(i,u):a||(i[i.length]=u)}return i},wu=tr,xu=Lt,Eu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Su=/^\w*$/;var ku=function(t,e){if(wu(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!xu(t))||(Su.test(t)||!Eu.test(t)||null!=e&&t in Object(e))},Cu=Ee(Object,"create"),ju=Cu;var Tu=function(){this.__data__=ju?ju(null):{},this.size=0};var Ou=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Au=Cu,Ru="__lodash_hash_undefined__",Nu=Object.prototype.hasOwnProperty;var Du=function(t){var e=this.__data__;if(Au){var n=e[t];return n===Ru?void 0:n}return Nu.call(e,t)?e[t]:void 0},Pu=Cu,Mu=Object.prototype.hasOwnProperty;var $u=function(t){var e=this.__data__;return Pu?void 0!==e[t]:Mu.call(e,t)},Iu=Cu,Lu="__lodash_hash_undefined__";var Hu=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Iu&&void 0===e?Lu:e,this},Bu=Tu,Uu=Ou,Fu=Du,zu=$u,qu=Hu;function Vu(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Vu.prototype.clear=Bu,Vu.prototype.delete=Uu,Vu.prototype.get=Fu,Vu.prototype.has=zu,Vu.prototype.set=qu;var Yu=Vu;var Wu=function(){this.__data__=[],this.size=0};var Xu=function(t,e){return t===e||t!=t&&e!=e},Gu=Xu;var Ju=function(t,e){for(var n=t.length;n--;)if(Gu(t[n][0],e))return n;return-1},Ku=Ju,Zu=Array.prototype.splice;var Qu=function(t){var e=this.__data__,n=Ku(e,t);return!(n<0)&&(n==e.length-1?e.pop():Zu.call(e,n,1),--this.size,!0)},tl=Ju;var el=function(t){var e=this.__data__,n=tl(e,t);return n<0?void 0:e[n][1]},nl=Ju;var rl=function(t){return nl(this.__data__,t)>-1},al=Ju;var il=function(t,e){var n=this.__data__,r=al(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},ol=Wu,sl=Qu,ul=el,ll=rl,cl=il;function fl(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fl.prototype.clear=ol,fl.prototype.delete=sl,fl.prototype.get=ul,fl.prototype.has=ll,fl.prototype.set=cl;var pl=fl,hl=Yu,dl=pl,ml=kn;var vl=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var yl=function(t,e){var n=t.__data__;return vl(e)?n["string"==typeof e?"string":"hash"]:n.map},gl=yl;var bl=function(t){var e=gl(this,t).delete(t);return this.size-=e?1:0,e},_l=yl;var wl=function(t){return _l(this,t).get(t)},xl=yl;var El=function(t){return xl(this,t).has(t)},Sl=yl;var kl=function(t,e){var n=Sl(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Cl=function(){this.size=0,this.__data__={hash:new hl,map:new(ml||dl),string:new hl}},jl=bl,Tl=wl,Ol=El,Al=kl;function Rl(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rl.prototype.clear=Cl,Rl.prototype.delete=jl,Rl.prototype.get=Tl,Rl.prototype.has=Ol,Rl.prototype.set=Al;var Nl=Rl,Dl=Nl,Pl="Expected a function";function Ml(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(Pl);var n=function(){var r=arguments,a=e?e.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(Ml.Cache||Dl),n}Ml.Cache=Dl;var $l=Ml,Il=500;var Ll=function(t){var e=$l(t,(function(t){return n.size===Il&&n.clear(),t})),n=e.cache;return e},Hl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Bl=/\\(\\)?/g,Ul=Ll((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Hl,(function(t,n,r,a){e.push(r?a.replace(Bl,"$1"):n||t)})),e})),Fl=tr,zl=ku,ql=Ul,Vl=eu;var Yl=function(t,e){return Fl(t)?t:zl(t,e)?[t]:ql(Vl(t))},Wl=Lt,Xl=1/0;var Gl=function(t){if("string"==typeof t||Wl(t))return t;var e=t+"";return"0"==e&&1/t==-Xl?"-0":e},Jl=Yl,Kl=Gl;var Zl=function(t,e){for(var n=0,r=(e=Jl(e,t)).length;null!=t&&n<r;)t=t[Kl(e[n++])];return n&&n==r?t:void 0},Ql=pl;var tc=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var ec=function(t){return this.__data__.get(t)};var nc=function(t){return this.__data__.has(t)},rc=pl,ac=kn,ic=Nl,oc=200;var sc=function(t,e){var n=this.__data__;if(n instanceof rc){var r=n.__data__;if(!ac||r.length<oc-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ic(r)}return n.set(t,e),this.size=n.size,this},uc=pl,lc=function(){this.__data__=new Ql,this.size=0},cc=tc,fc=ec,pc=nc,hc=sc;function dc(t){var e=this.__data__=new uc(t);this.size=e.size}dc.prototype.clear=lc,dc.prototype.delete=cc,dc.prototype.get=fc,dc.prototype.has=pc,dc.prototype.set=hc;var mc=dc,vc="__lodash_hash_undefined__";var yc=Nl,gc=function(t){return this.__data__.set(t,vc),this},bc=function(t){return this.__data__.has(t)};function _c(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new yc;++e<n;)this.add(t[e])}_c.prototype.add=_c.prototype.push=gc,_c.prototype.has=bc;var wc=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1};var xc=function(t,e){return t.has(e)},Ec=_c,Sc=wc,kc=xc,Cc=1,jc=2;var Tc=function(t,e,n,r,a,i){var o=n&Cc,s=t.length,u=e.length;if(s!=u&&!(o&&u>s))return!1;var l=i.get(t),c=i.get(e);if(l&&c)return l==e&&c==t;var f=-1,p=!0,h=n&jc?new Ec:void 0;for(i.set(t,e),i.set(e,t);++f<s;){var d=t[f],m=e[f];if(r)var v=o?r(m,d,f,e,t,i):r(d,m,f,t,e,i);if(void 0!==v){if(v)continue;p=!1;break}if(h){if(!Sc(e,(function(t,e){if(!kc(h,e)&&(d===t||a(d,t,n,r,i)))return h.push(e)}))){p=!1;break}}else if(d!==m&&!a(d,m,n,r,i)){p=!1;break}}return i.delete(t),i.delete(e),p};var Oc=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n};var Ac=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},Rc=bt.Uint8Array,Nc=Xu,Dc=Tc,Pc=Oc,Mc=Ac,$c=1,Ic=2,Lc="[object Boolean]",Hc="[object Date]",Bc="[object Error]",Uc="[object Map]",Fc="[object Number]",zc="[object RegExp]",qc="[object Set]",Vc="[object String]",Yc="[object Symbol]",Wc="[object ArrayBuffer]",Xc="[object DataView]",Gc=_t?_t.prototype:void 0,Jc=Gc?Gc.valueOf:void 0;var Kc=function(t,e,n,r,a,i,o){switch(n){case Xc:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Wc:return!(t.byteLength!=e.byteLength||!i(new Rc(t),new Rc(e)));case Lc:case Hc:case Fc:return Nc(+t,+e);case Bc:return t.name==e.name&&t.message==e.message;case zc:case Vc:return t==e+"";case Uc:var s=Pc;case qc:var u=r&$c;if(s||(s=Mc),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=Ic,o.set(t,e);var c=Dc(s(t),s(e),r,a,i,o);return o.delete(t),c;case Yc:if(Jc)return Jc.call(t)==Jc.call(e)}return!1},Zc=du,Qc=tr;var tf=function(t,e,n){var r=e(t);return Qc(t)?r:Zc(r,n(t))};var ef=Le,nf=function(){return[]},rf=Object.prototype.propertyIsEnumerable,af=Object.getOwnPropertySymbols,of=af?function(t){return null==t?[]:(t=Object(t),ef(af(t),(function(e){return rf.call(t,e)})))}:nf,sf=9007199254740991,uf=/^(?:0|[1-9]\d*)$/;var lf=function(t,e){var n=typeof t;return!!(e=null==e?sf:e)&&("number"==n||"symbol"!=n&&uf.test(t))&&t>-1&&t%1==0&&t<e},cf=Ue,ff=Qn,pf=tr,hf=er,df=lf,mf=hr,vf=Object.prototype.hasOwnProperty;var yf=function(t,e){var n=pf(t),r=!n&&ff(t),a=!n&&!r&&hf(t),i=!n&&!r&&!a&&mf(t),o=n||r||a||i,s=o?cf(t.length,String):[],u=s.length;for(var l in t)!e&&!vf.call(t,l)||o&&("length"==l||a&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||df(l,u))||s.push(l);return s},gf=yf,bf=En,_f=Ye;var wf=function(t){return _f(t)?gf(t):bf(t)},xf=tf,Ef=of,Sf=wf;var kf=function(t){return xf(t,Sf,Ef)},Cf=1,jf=Object.prototype.hasOwnProperty;var Tf=function(t,e,n,r,a,i){var o=n&Cf,s=kf(t),u=s.length;if(u!=kf(e).length&&!o)return!1;for(var l=u;l--;){var c=s[l];if(!(o?c in e:jf.call(e,c)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var h=!0;i.set(t,e),i.set(e,t);for(var d=o;++l<u;){var m=t[c=s[l]],v=e[c];if(r)var y=o?r(v,m,c,e,t,i):r(m,v,c,t,e,i);if(!(void 0===y?m===v||a(m,v,n,r,i):y)){h=!1;break}d||(d="constructor"==c)}if(h&&!d){var g=t.constructor,b=e.constructor;g==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b||(h=!1)}return i.delete(t),i.delete(e),h},Of=mc,Af=Tc,Rf=Kc,Nf=Tf,Df=qn,Pf=tr,Mf=er,$f=hr,If=1,Lf="[object Arguments]",Hf="[object Array]",Bf="[object Object]",Uf=Object.prototype.hasOwnProperty;var Ff=function(t,e,n,r,a,i){var o=Pf(t),s=Pf(e),u=o?Hf:Df(t),l=s?Hf:Df(e),c=(u=u==Lf?Bf:u)==Bf,f=(l=l==Lf?Bf:l)==Bf,p=u==l;if(p&&Mf(t)){if(!Mf(e))return!1;o=!0,c=!1}if(p&&!c)return i||(i=new Of),o||$f(t)?Af(t,e,n,r,a,i):Rf(t,e,u,n,r,a,i);if(!(n&If)){var h=c&&Uf.call(t,"__wrapped__"),d=f&&Uf.call(e,"__wrapped__");if(h||d){var m=h?t.value():t,v=d?e.value():e;return i||(i=new Of),a(m,v,n,r,i)}}return!!p&&(i||(i=new Of),Nf(t,e,n,r,a,i))},zf=Pt;var qf=function t(e,n,r,a,i){return e===n||(null==e||null==n||!zf(e)&&!zf(n)?e!=e&&n!=n:Ff(e,n,r,a,t,i))},Vf=mc,Yf=qf,Wf=1,Xf=2;var Gf=function(t,e,n,r){var a=n.length,i=a,o=!r;if(null==t)return!i;for(t=Object(t);a--;){var s=n[a];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++a<i;){var u=(s=n[a])[0],l=t[u],c=s[1];if(o&&s[2]){if(void 0===l&&!(u in t))return!1}else{var f=new Vf;if(r)var p=r(l,c,u,t,e,f);if(!(void 0===p?Yf(c,l,Wf|Xf,r,f):p))return!1}}return!0},Jf=Jt;var Kf=function(t){return t==t&&!Jf(t)},Zf=Kf,Qf=wf;var tp=function(t){for(var e=Qf(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,Zf(a)]}return e};var ep=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}},np=Gf,rp=tp,ap=ep;var ip=Zl;var op=function(t,e){return null!=t&&e in Object(t)},sp=Yl,up=Qn,lp=tr,cp=lf,fp=ze,pp=Gl;var hp=function(t,e,n){for(var r=-1,a=(e=sp(e,t)).length,i=!1;++r<a;){var o=pp(e[r]);if(!(i=null!=t&&n(t,o)))break;t=t[o]}return i||++r!=a?i:!!(a=null==t?0:t.length)&&fp(a)&&cp(o,a)&&(lp(t)||up(t))},dp=op,mp=hp;var vp=qf,yp=function(t,e,n){var r=null==t?void 0:ip(t,e);return void 0===r?n:r},gp=function(t,e){return null!=t&&mp(t,e,dp)},bp=ku,_p=Kf,wp=ep,xp=Gl,Ep=1,Sp=2;var kp=Zl;var Cp=Be,jp=function(t){return function(e){return kp(e,t)}},Tp=ku,Op=Gl;var Ap=function(t){var e=rp(t);return 1==e.length&&e[0][2]?ap(e[0][0],e[0][1]):function(n){return n===t||np(n,t,e)}},Rp=function(t,e){return bp(t)&&_p(e)?wp(xp(t),e):function(n){var r=yp(n,t);return void 0===r&&r===e?gp(n,t):vp(e,r,Ep|Sp)}},Np=Ut,Dp=tr,Pp=function(t){return Tp(t)?Cp(Op(t)):jp(t)};var Mp=function(t){return"function"==typeof t?t:null==t?Np:"object"==typeof t?Dp(t)?Rp(t[0],t[1]):Ap(t):Pp(t)};var $p=function(t){return function(e,n,r){for(var a=-1,i=Object(e),o=r(e),s=o.length;s--;){var u=o[t?s:++a];if(!1===n(i[u],u,i))break}return e}},Ip=$p(),Lp=wf;var Hp=Ye;var Bp=function(t,e){return function(n,r){if(null==n)return n;if(!Hp(n))return t(n,r);for(var a=n.length,i=e?a:-1,o=Object(n);(e?i--:++i<a)&&!1!==r(o[i],i,o););return n}}((function(t,e){return t&&Ip(t,e,Lp)})),Up=Ye;var Fp=function(t,e){var n=-1,r=Up(t)?Array(t.length):[];return Bp(t,(function(t,a,i){r[++n]=e(t,a,i)})),r};var zp=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t},qp=Lt;var Vp=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,a=t==t,i=qp(t),o=void 0!==e,s=null===e,u=e==e,l=qp(e);if(!s&&!l&&!i&&t>e||i&&o&&u&&!s&&!l||r&&o&&u||!n&&u||!a)return 1;if(!r&&!i&&!l&&t<e||l&&n&&a&&!r&&!i||s&&n&&a||!o&&a||!u)return-1}return 0};var Yp=He,Wp=Zl,Xp=Mp,Gp=Fp,Jp=zp,Kp=ur,Zp=function(t,e,n){for(var r=-1,a=t.criteria,i=e.criteria,o=a.length,s=n.length;++r<o;){var u=Vp(a[r],i[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return t.index-e.index},Qp=Ut,th=tr;var eh=Xu,nh=Ye,rh=lf,ah=Jt;var ih=_u,oh=function(t,e,n){e=e.length?Yp(e,(function(t){return th(t)?function(e){return Wp(e,1===t.length?t[0]:t)}:t})):[Qp];var r=-1;e=Yp(e,Kp(Xp));var a=Gp(t,(function(t,n,a){return{criteria:Yp(e,(function(e){return e(t)})),index:++r,value:t}}));return Jp(a,(function(t,e){return Zp(t,e,n)}))},sh=function(t,e,n){if(!ah(n))return!1;var r=typeof e;return!!("number"==r?nh(n)&&rh(e,n.length):"string"==r&&e in n)&&eh(n[e],t)},uh=Ie((function(t,e){if(null==t)return[];var n=e.length;return n>1&&sh(t,e[0],e[1])?e=[]:n>2&&sh(e[0],e[1],e[2])&&(e=[e[0]]),oh(t,ih(e,1),[])})),lh={backgroundColor:"rgb(241, 231, 119)",height:"4px"},ch={backgroundColor:"rgb(197, 213, 108)",height:"6px"},fh={backgroundColor:"rgb(159, 197, 99)",height:"8px"},ph={backgroundColor:"rgb(141, 184, 101)",height:"10px"},hh={backgroundColor:"rgb(107, 151, 117)",height:"12px"},dh=function(e){i(a,k.Component);var r=l(a);function a(e){var n;return t(this,a),(n=r.call(this,e)).state={isUpdate:0,isPending:!1,simhashData:null},n._clusters=[],n}return n(a,[{key:"componentDidUpdate",value:function(){this.state.isUpdate<2&&(uu(),this.setState({isUpdate:this.state.isUpdate+1}))}},{key:"render",value:function(){var t=this;if(this.state.error)return k.createElement(Ar,{url:this.props.url,code:this.state.error,timestamp:this.state.timestamp?this.state.timestamp:this.props.timestamp,conf:this.props.conf,errorHandledCallback:this.errorHandled});if(this.state.simhashData)return k.createElement("div",{className:"sunburst-container"},this.state.isPending&&k.createElement("p",null,"The Simhash data for ",this.props.url," and year ",this.state.timestamp.substring(0,4)," are still being generated. For more results please try again in a moment."),k.createElement("div",null,"This diagram illustrates the differences of ",k.createElement("a",{href:"/web/*/".concat(this.props.url)},this.props.url)," capture ",k.createElement("a",{href:this.props.conf.snapshotsPrefix+this.state.timestamp+"/"+this.props.url},hn(this.state.timestamp))," compared to"," ",this.state.countCaptures," other captures of the same URL for ",this.state.timestamp.substring(0,4),"."),k.createElement(fu,{urlPrefix:this.props.conf.urlPrefix,url:this.props.url,simhashData:this.state.simhashData}),k.createElement("div",{style:{clear:"both"}},k.createElement("div",{className:"heat-map-legend"},k.createElement("div",{className:"heat-map-legend-caption"},"Variation"),k.createElement("div",{className:"heat-map-legend-summary"},k.createElement("div",{className:"heat-map-legend-summary-min-caption"},"Low"),k.createElement("div",{className:"heat-map-legend-summary-graphics"},k.createElement("div",{className:"heat-map-legend-bar",style:lh}),k.createElement("div",{className:"heat-map-legend-bar",style:ch}),k.createElement("div",{className:"heat-map-legend-bar",style:fh}),k.createElement("div",{className:"heat-map-legend-bar",style:ph}),k.createElement("div",{className:"heat-map-legend-bar",style:hh})),k.createElement("div",{className:"heat-map-legend-summary-max-caption"},"High")))));var e=function(){return tt(t.props.loader)?k.createElement(et,null):t.props.loader};return this.state.timestamp?this._fetchTimestampSimhashData():this._validateTimestamp(),k.createElement("div",{className:"loading"},k.createElement(e,null))}},{key:"_validateTimestamp",value:function(){var t,e=this;if(this.props.fetchSnapshotCallback)t=this.props.fetchSnapshotCallback(this.props.timestamp);else{var n=new URL(this.props.conf.cdxServer,window.location.origin);n.searchParams.append("url",this.props.url),n.searchParams.append("closest",this.props.timestamp),n.searchParams.append("filter","!mimetype:warc/revisit"),n.searchParams.append("sort","closest"),n.searchParams.append("limit","1"),n.searchParams.append("fl","timestamp"),t=ln(n)}t.then(un).then((function(t){return t.json()})).then((function(t){var n=t.toString();e.props.timestamp!==n?(window.history.pushState({},"","".concat(e.props.conf.diffgraphPrefix).concat(n,"/").concat(e.props.url)),e.setState({timestamp:n})):e.setState({timestamp:e.props.timestamp})})).catch((function(t){"Unexpected end of JSON input"===t.message?e.errorHandled("NO_CAPTURES"):e.errorHandled(t.message)}))}},{key:"errorHandled",value:function(t){this.setState({error:t})}},{key:"_fetchTimestampSimhashData",value:function(){var t=this;ln(this.props.conf.waybackDiscoverDiff+"/simhash?url="+encodeURIComponent(this.props.url)+"&timestamp="+this.state.timestamp).then(un).then((function(t){return t.json()})).then((function(e){if(e.status)throw Error(e.message);t._fetchSimhashData(lu(e,t.state.timestamp))})).catch((function(e){t.errorHandled(e.message)}))}},{key:"_fetchSimhashData",value:function(t){var e=this,n=this.props.conf.waybackDiscoverDiff+"/simhash?url="+encodeURIComponent(this.props.url)+"&year="+this.state.timestamp.substring(0,4);this.props.conf.compressedSimhash&&(n+="&compress=1"),ln(n).then(un).then((function(t){return t.json()})).then((function(n){var r;e.setState({isPending:"PENDING"===n.status}),r=e.props.conf.compressedSimhash?function(t){for(var e=[],n=t.captures[0][0],r=1;r<t.captures[0].length;r++)for(var a=t.captures[0][r][0],i=1;i<t.captures[0][r].length;i++)for(var o=t.captures[0][r][i][0],s=1;s<t.captures[0][r][i].length;s++){var u=t.captures[0][r][i][s][0],l=t.captures[0][r][i][s][1],c=t.hashes[l],f="".concat(n).concat(cn(a)).concat(cn(o)).concat(u);e.push([f,c])}return e}(n):lu(n);var a=e._calcDistanceAndScales(r,t);kr(a)||e._createLevels(a,t)})).catch((function(t){e.errorHandled(t.message)}))}},{key:"_calcDistanceAndScales",value:function(t,e){for(var n=[],r=0;r<t.length;r++){var a=on(e[1],t[r][1]);t[r][1]=100*a,0!==a&&n.push(100*a)}if(!kr(n)){for(this.setState({countCaptures:n.length}),this._clusters=hu().domain(n).range([1,2,3,4,5]).clusters();this._clusters.length<5;)this._clusters.push(101);return t}this.errorHandled("NO_DIFFERENT_CAPTURES")}},{key:"_createLevels",value:function(t,e){for(var n=[],r=[],a=[],i=[],o=[],s=["#dddddd","#f1e777","#c5d56c","#8db865","#6b9775","#4d7a83"],u=0;u<t.length;u++)0!==t[u][1]&&(t[u][1]<=this._clusters[0]?n.push({name:hn(t[u][0]),timestamp:t[u][0],similarity:t[u][1],clr:s[1],children:[]}):t[u][1]<=this._clusters[1]?r.push({name:hn(t[u][0]),timestamp:t[u][0],similarity:t[u][1],clr:s[2],children:[]}):t[u][1]<=this._clusters[2]?a.push({name:hn(t[u][0]),timestamp:t[u][0],similarity:t[u][1],clr:s[3],children:[]}):t[u][1]<=this._clusters[3]?i.push({name:hn(t[u][0]),timestamp:t[u][0],similarity:t[u][1],clr:s[4],children:[]}):t[u][1]<=this._clusters[4]&&o.push({name:hn(t[u][0]),timestamp:t[u][0],similarity:t[u][1],clr:s[5],children:[]}));for(var l=4;0===n.length&&l>0;)n=r,r=a,a=i,i=o,o=[],l-=1;for(l=3;0===r.length&&l>0;)r=a,a=i,i=o,o=[],l-=1;for(l=2;0===a.length&&l>0;)a=i,i=o,o=[],l-=1;0===i.length&&(i=o,o=[]),n=uh(n,[function(t){return t.timestamp}]),r=uh(r,[function(t){return t.timestamp}]),a=uh(a,[function(t){return t.timestamp}]),i=uh(i,[function(t){return t.timestamp}]),o=uh(o,[function(t){return t.timestamp}]),n.length>this.props.conf.maxSunburstLevelLength&&(n.length=this.props.conf.maxSunburstLevelLength),r.length>this.props.conf.maxSunburstLevelLength&&(r.length=this.props.conf.maxSunburstLevelLength),a.length>this.props.conf.maxSunburstLevelLength&&(a.length=this.props.conf.maxSunburstLevelLength),i.length>this.props.conf.maxSunburstLevelLength&&(i.length=this.props.conf.maxSunburstLevelLength),o.length>this.props.conf.maxSunburstLevelLength&&(o.length=this.props.conf.maxSunburstLevelLength);for(var c=0;c<o.length;c++){var f=c%i.length;i[f].children.push(o[c]),i[f].bigness=""}for(var p=0;p<i.length;p++){var h=p%a.length;a[h].children.push(i[p]),a[h].bigness=""}for(var d=0;d<a.length;d++){var m=d%r.length;r[m].children.push(a[d]),r[m].bigness=""}for(var v=0;v<r.length;v++){var y=v%n.length;n[y].children.push(r[v]),n[y].bigness=""}this.setState({simhashData:{name:hn(e[0]),timestamp:e[0],clr:s[0],children:n,similarity:-1}})}}]),a}();r(dh,"displayName","SunburstContainer"),r(dh,"propTypes",{timestamp:C.string.isRequired,url:C.string.isRequired,conf:C.object.isRequired,fetchSnapshotCallback:C.func,loader:C.element});export{Rr as DiffContainer,dh as SunburstContainer};
//# sourceMappingURL=app.js.map
